import{_ as v,r as i,c as l,a as o,B as u,C as d,t as g,v as y,A as w,z as _,o as p}from"./NOtjPhkj.js";const b={class:"login-container"},x={class:"form-group"},S={class:"form-group"},k={key:0,class:"error"},L={__name:"index",setup(B){const r=i(""),a=i(""),t=i(""),c=_(),m=()=>{const s=new URL(window.location.href);return s.port="5000",s.origin},f=async()=>{t.value="";try{const s=await fetch(`${m()}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.value,password:a.value}),credentials:"include"}),e=await s.json();s.ok&&e.success?(console.log("Login successful!"),c.push("/rikya/components/Home")):t.value=e.message||"Login failed. Please try again."}catch(s){console.error("Login error:",s),t.value="An error occurred. Please try again later."}};return(s,e)=>(p(),l("div",b,[o("form",{onSubmit:w(f,["prevent"]),class:"login-form"},[e[4]||(e[4]=o("h1",null,"RacingStation",-1)),o("div",x,[e[2]||(e[2]=o("label",{for:"username"},"Username",-1)),u(o("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),required:"",autocomplete:"off"},null,512),[[d,r.value]])]),o("div",S,[e[3]||(e[3]=o("label",{for:"password"},"Password",-1)),u(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),required:"",autocomplete:"off"},null,512),[[d,a.value]])]),e[5]||(e[5]=o("button",{type:"submit"},"Log In",-1)),t.value?(p(),l("div",k,g(t.value),1)):y("",!0)],32)]))}},U=v(L,[["__scopeId","data-v-edef02f0"]]);export{U as default};
