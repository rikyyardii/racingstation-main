import{r,k as X,l as y,p as H,x as J,c as l,a as e,_ as Q,b as U,d as _,u,F as C,e as E,f as m,w as Y,T as Z,t as i,g as F,q as tt,s as et,o as n,n as x,z as ot}from"./Bxt6o2xq.js";import{S as st,M as at,a as nt,X as K,F as rt}from"./B2L3iXDp.js";import{A as lt}from"./D3oWMSfX.js";import{u as it}from"./zaQ_01pX.js";import{s as ct}from"./BdWtB1Jz.js";import{C as ut}from"./DqdVNrPU.js";const dt={class:"app"},mt={class:"header-content"},vt={class:"header-controls"},ht={class:"desktop-nav"},pt=["href"],ft={key:0,class:"mobile-nav"},gt={class:"mobile-nav-content"},yt=["href"],_t={class:"live-streaming"},St={key:0},wt={class:"video-container"},kt=["src"],bt={key:0,class:"button-container"},$t=["onClick"],Ct={class:"live-commentary"},Et={class:"update-info"},Ft={class:"time"},It={class:"text-justify"},Kt={__name:"[id]",setup(Dt){const I=r(""),v=r(!1),h=r(!0),D=["Latest News","Watch Sports"],S=tt().params.id||null,p=r(""),f=r(""),d=r(""),w=r(""),B=r(""),L=r(null),k=r([]),b=r("");let $=null;const j=t=>{if(d.value!==t){d.value=t;const s=window.history.state;window.history.replaceState(s,"",window.location.href)}},M=()=>{v.value=!v.value},N=()=>{h.value=!h.value,document.body.classList.toggle("light-mode",!h.value)},R=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},T=()=>{const t=new Date,s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(t),o=t.getDate(),a=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),g=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(t),O=t.toLocaleTimeString("en-US",{hour12:!0});I.value=`${s}, ${o} ${a} ${g}. ${O}`},{API_URL:W,IMAGE_URL:c}=X().public,P=t=>{const s=c.startsWith("http")?c:`https://${c}`;return!t||typeof t!="string"?`${s}/public/img/racingstation-stream.png`:t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/public/img/")?`${s}${t}`:`${s}/public/img/${t}`},V=y(()=>p.value||"RacingStation Stream"),q=y(()=>w.value||"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports."),A=y(()=>`${c.startsWith("http")?c:`https://${c}`}/public/img/racingstation-stream.png`);it({title:V,ogTitle:"RacingStation Stream",description:q,ogDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",ogImage:A,twitterTitle:"RacingStation Stream",twitterDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",twitterCard:"summary_large_image"});const G=async t=>{const s=et();try{const o=await fetch(`${W}/streams/${t}`);if(o.ok){const a=await o.json();p.value=a.title,f.value=a.event,w.value=a.content,b.value=a.status,B.value=P(a.image_path),a.status==="enable"?d.value=a.link:d.value="/watch/offline_screen"}else o.status===404?(console.error("Stream not found"),s.push("/404")):console.error("Failed to fetch stream data")}catch(o){console.error("Error fetching stream:",o),s.push("/404")}},z=async t=>{try{const s=await fetch(`${W}/streams/${t}`);if(s.ok){const o=await s.json();k.value=[],["link","link2","link3","link4"].forEach((a,g)=>{o[a]&&k.value.push({label:`Server ${g+1}`,url:o[a],status:o.status})})}else console.error("Failed to fetch buttons data")}catch(s){console.error("Error fetching buttons:",s)}};return y(()=>f.value?`(${f.value})`:""),H(()=>{S?(G(S),z(S)):console.error("Slug is undefined"),T(),$=ct(T,1e3),document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("keydown",t=>{(t.ctrlKey&&t.shiftKey&&t.code==="KeyI"||t.ctrlKey&&t.shiftKey&&t.code==="KeyC"||t.ctrlKey&&t.code==="KeyU"||t.code==="F12")&&(t.preventDefault(),t.stopPropagation())})}),J(()=>{$!==null&&clearInterval($),document.removeEventListener("contextmenu",t=>t.preventDefault()),document.removeEventListener("keydown",t=>{})}),(t,s)=>(n(),l("div",dt,[e("header",null,[e("div",mt,[s[0]||(s[0]=e("h1",{class:"logo"},[e("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),U(" RacingStation ")],-1)),e("div",vt,[e("button",{onClick:N,class:"icon-button"},[h.value?(n(),_(u(st),{key:0})):(n(),_(u(at),{key:1}))]),e("button",{onClick:M,class:"icon-button menu-toggle"},[v.value?(n(),_(u(K),{key:1})):(n(),_(u(nt),{key:0}))]),e("nav",ht,[e("ul",null,[(n(),l(C,null,E(D,o=>e("li",{key:o},[e("a",{href:R(o),class:x({active:L.value===o})},i(o),11,pt)])),64))])])])])]),m(Z,{name:"slide"},{default:Y(()=>[v.value?(n(),l("nav",ft,[e("div",gt,[e("button",{onClick:M,class:"icon-button close-menu"},[m(u(K))]),e("ul",null,[(n(),l(C,null,E(D,o=>e("li",{key:o},[e("a",{href:R(o),class:x({active:L.value===o})},i(o),11,yt)])),64))])])])):F("",!0)]),_:1}),e("main",null,[m(lt),e("div",_t,[e("h1",null,[U(i(p.value)+" ",1),b.value==="enable"?(n(),l("span",St,"("+i(f.value)+")",1)):F("",!0)]),e("div",wt,[e("iframe",{src:d.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,kt),s[1]||(s[1]=e("div",{class:"iframe-overlay"},null,-1))]),b.value==="enable"?(n(),l("div",bt,[(n(!0),l(C,null,E(k.value,(o,a)=>(n(),l("button",{key:a,class:"action-button",onClick:ot(g=>j(o.url),["prevent"])},i(o.label),9,$t))),128))])):F("",!0),e("div",Ct,[e("div",Et,[m(u(ut)),e("span",Ft,i(I.value),1)]),e("h1",null,"What is "+i(p.value)+"?",1),e("p",It,i(w.value),1)])])]),m(rt)]))}};export{Kt as default};
