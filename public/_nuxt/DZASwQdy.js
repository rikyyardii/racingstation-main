import{r as n,k as de,l as v,p as K,v as ve,x as me,c as r,a as e,h as m,b as i,d as k,_ as he,e as M,u as c,F as R,f as T,w as D,T as pe,y as E,z as q,A as G,I as J,B as ge,n as fe,t as h,q as _e,o,g as be}from"./oiRATSsh.js";import{S as ke,M as we,a as ye,X,F as Se}from"./Bz_hUaix.js";import{u as Ce}from"./vKBWnsXH.js";import{s as Le}from"./Dys--UrV.js";import{S as x,C as Me,a as Ae}from"./DlHik8Ln.js";import{A as Ie}from"./BF6pliaY.js";const Ne={class:"app"},Re={class:"header-content"},Te={class:"header-controls"},De={class:"desktop-nav"},Ee={key:0,class:"mobile-nav"},xe={class:"mobile-nav-content"},Ve={key:0,class:"articles-section"},We={class:"stream-header"},Pe={key:0,class:"search-container"},$e={type:"submit",class:"search-button"},Be={type:"submit",class:"search-button"},Ue={class:"stream-grid"},ze=["onClick"],Oe={class:"stream-image-container"},Fe=["src","alt"],Qe={key:1},je={key:2,class:"live-now-badge"},Ke={class:"stream-content"},qe={class:"stream-category"},Ge={class:"stream-footer"},Je={class:"read-more"},Xe={key:1,class:"pagination"},He=["disabled"],Ye={class:"pagination-info"},Ze=["disabled"],V=6,lt={__name:"stream",setup(et){const H=n(""),Y=_e(),Z=n(""),g=n(!0),f=n(""),W=async()=>{try{const t=await fetch(`${O}/adslink_card`);if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();s&&s.length>0&&s[0].status==="enable"?(f.value=s[0].adslink,g.value=!0):(f.value="",g.value=!1)}catch(t){console.error("Error fetching adslink:",t),f.value="",g.value=!1}},ee=()=>{window.open(f.value,"_blank"),g.value=!1},P=()=>{const t=document.createElement("script");t.async=!0,t.setAttribute("data-cfasync","false"),t.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(t)},$=()=>{const t=new Date;H.value=t.toLocaleTimeString()},te=n(null),w=n(!1),y=n(!0),B=n("Latest News");n(!1),n(""),n("");const d=n(""),p=n(!1),_=n(!1),U=["Latest News","Watch Sports"],z=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},A=()=>{w.value=!w.value},se=()=>{y.value=!y.value,document.body.classList.toggle("light-mode",!y.value)},I=n([]),{API_URL:O,IMAGE_URL:S}=de().public,ae=v(()=>"RacingStation Stream"),oe=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),ne=v(()=>`${S.startsWith("http")?S:`https://${S}`}/public/img/racingstation-stream.png`);Ce({title:ae,ogTitle:"RacingStation Stream",description:oe,ogDescription:"Watch live streaming of your favorite events.",ogImage:ne,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const F=async()=>{try{const t=await fetch(`${O}/streams_card`);if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();I.value=s.map(l=>(I.value.length===0&&(Z.value=l.title),{...l,image_path:`${S}${l.image_path}`,status:l.status||"disable"})),s.length>0&&s[0].redirect_url&&(f.value=s[0].redirect_url)}catch(t){console.error("Error fetching streams:",t)}},C=()=>{localStorage.setItem("streamSearchQuery",d.value),p.value&&(_.value=!1)},Q=v(()=>{const t=d.value.trim().toLowerCase();return t?j.value.filter(s=>{var N;const l=s.title.toLowerCase().includes(t),a=((N=s.category)==null?void 0:N.toLowerCase().includes(t))||!1;return l||a}):j.value}),re=()=>{_.value=!_.value},b=()=>{p.value=window.innerWidth<=640,p.value||(_.value=!0)};K(()=>{const t=localStorage.getItem("streamSearchQuery");t&&(d.value=t),P(),b(),window.addEventListener("resize",b),F(),W()}),K(()=>{P(),b(),window.addEventListener("resize",b),F(),W(),$(),Le($,1e3);const t=localStorage.getItem("selectedArticle");t&&(te.value=JSON.parse(t),B.value="Detailed Article")}),ve(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",b)});const j=v(()=>I.value.slice().sort((t,s)=>{const l=new Date(t.created_at),a=new Date(s.created_at);return l-a})),u=n(1),L=v(()=>Math.ceil(Q.value.length/V));me(d,t=>{t.trim()&&(u.value=1)});const le=v(()=>{const t=(u.value-1)*V,s=t+V;return Q.value.slice(t,s)}),ie=()=>{u.value<L.value&&u.value++},ce=()=>{u.value>1&&u.value--},ue=t=>{Y.push(`/watch/${t}`)};return(t,s)=>{const l=be;return o(),r("div",Ne,[e("header",null,[e("div",Re,[s[2]||(s[2]=e("h1",{class:"logo"},[e("img",{src:he,alt:"RacingStation Logo",class:"logo-image"}),k(" RacingStation ")],-1)),e("div",Te,[e("button",{onClick:se,class:"icon-button"},[y.value?(o(),M(c(ke),{key:0})):(o(),M(c(we),{key:1}))]),e("button",{onClick:A,class:"icon-button menu-toggle"},[w.value?(o(),M(c(X),{key:1})):(o(),M(c(ye),{key:0}))]),e("nav",De,[e("ul",null,[(o(),r(R,null,T(U,a=>e("li",{key:a},[i(l,{to:z(a),class:"no-active-link"},{default:D(()=>[k(h(a),1)]),_:2},1032,["to"])])),64))])])])])]),g.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:ee})):m("",!0),i(pe,{name:"slide"},{default:D(()=>[w.value?(o(),r("nav",Ee,[e("div",xe,[e("button",{onClick:A,class:"icon-button close-menu"},[i(c(X))]),e("ul",null,[(o(),r(R,null,T(U,a=>e("li",{key:a},[i(l,{to:z(a),class:"no-active-link",onClick:A},{default:D(()=>[k(h(a),1)]),_:2},1032,["to"])])),64))])])])):m("",!0)]),_:1}),e("main",null,[s[6]||(s[6]=e("div",{class:"adsterra-container"},[e("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),B.value==="Latest News"?(o(),r("div",Ve,[e("div",We,[s[3]||(s[3]=e("h2",{class:"font-sans font-normal"},"Live Sports",-1)),p.value?m("",!0):(o(),r("div",Pe,[e("form",{onSubmit:q(C,["prevent"]),class:"search-form"},[E(e("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=a=>d.value=a),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(C,["enter"])},null,544),[[G,d.value]]),e("button",$e,[i(c(x),{class:"search-icon"})])],32)])),E(e("button",{onClick:re,class:"mobile-search-icon"},[i(c(x),{class:"search-icon"})],512),[[ge,p.value]])]),p.value?(o(),r("div",{key:0,class:fe(["search-container mobile-search",{"mobile-search-active":_.value}])},[e("form",{onSubmit:q(C,["prevent"]),class:"search-form"},[E(e("input",{type:"search","onUpdate:modelValue":s[1]||(s[1]=a=>d.value=a),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(C,["enter"])},null,544),[[G,d.value]]),e("button",Be,[i(c(x),{class:"search-icon"})])],32)],2)):m("",!0),e("div",Ue,[(o(!0),r(R,null,T(le.value,a=>(o(),r("article",{key:a.slug,class:"stream-card",onClick:N=>ue(a.slug)},[e("div",Oe,[a.image_path?(o(),r("img",{key:0,src:a.image_path,alt:a.title,class:"stream-image"},null,8,Fe)):(o(),r("p",Qe,"Image not available")),a.status==="enable"?(o(),r("div",je,s[4]||(s[4]=[e("span",{class:"live-dot"},null,-1),k(" LIVE NOW ")]))):m("",!0)]),e("div",Ke,[e("span",qe,h(a.category),1),e("h3",null,h(a.title),1),e("p",null,h(a.excerpt),1),e("div",Ge,[e("span",Je,[s[5]||(s[5]=k(" Watch stream ")),i(c(Ie))])])])],8,ze))),128))]),L.value>1?(o(),r("div",Xe,[e("button",{onClick:ce,disabled:u.value===1,class:"pagination-button"},[i(c(Me))],8,He),e("span",Ye,"Page "+h(u.value)+" of "+h(L.value),1),e("button",{onClick:ie,disabled:u.value===L.value,class:"pagination-button"},[i(c(Ae))],8,Ze)])):m("",!0)])):m("",!0),s[7]||(s[7]=e("div",{class:"adsterra-container"},null,-1))]),i(Se)])}}};export{lt as default};
