import{r as n,u as X,c as d,o as D,a as i,b as t,_ as z,d as p,e as h,f as u,F as w,g as b,h as r,i as y,T as H,t as g,j as x,p as K,l as a,q as Q}from"./CChyQoMN.js";import{S as Y,M as Z,a as tt,X as I,F as et}from"./COMTuGu1.js";import{u as st,A as at}from"./BSaSUMBX.js";import{s as ot}from"./c8qv4vjN.js";import{A as nt,C as it,a as rt}from"./Cloy8xBX.js";const lt={class:"app"},ct={class:"header-content"},ut={class:"header-controls"},dt={class:"desktop-nav"},gt={key:0,class:"mobile-nav"},mt={class:"mobile-nav-content"},vt={key:0,class:"articles-section"},_t={class:"stream-grid"},pt=["onClick"],ht={class:"stream-image-container"},ft=["src","alt"],kt={key:1},St={class:"stream-content"},wt={class:"stream-footer"},bt={class:"read-more"},yt={class:"pagination"},Ct=["disabled"],Lt={class:"pagination-info"},Rt=["disabled"],C=6,Pt={__name:"stream",setup(At){const P=n(""),$=K(),W=n(""),L=()=>{const e=new Date;P.value=e.toLocaleTimeString()},B=n(null),m=n(!1),v=n(!0),R=n("Latest News");n(!1),n(""),n("");const A=["Latest News","Watch Sports"],M=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},f=()=>{m.value=!m.value},V=()=>{v.value=!v.value,document.body.classList.toggle("light-mode",!v.value)},k=n([]),{API_URL:E,IMAGE_URL:_}=X().public,F=d(()=>"RacingStation Stream"),j=d(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),O=d(()=>`${_.startsWith("http")?_:`https://${_}`}/public/img/racingstation-stream.png`);st({title:F,ogTitle:"RacingStation Stream",description:j,ogDescription:"Watch live streaming of your favorite events.",ogImage:O,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const N=async()=>{try{const e=await fetch(`${E}/streams_card`);if(!e.ok)throw new Error("Network response was not ok");const o=await e.json();k.value=o.map(c=>(k.value.length===0&&(W.value=c.title),{...c,image_path:`${_}${c.image_path}`}))}catch(e){console.error("Error fetching streams:",e)}};D(()=>{N()}),D(()=>{N(),L(),ot(L,1e3);const e=localStorage.getItem("selectedArticle");e&&(B.value=JSON.parse(e),R.value="Detailed Article")});const T=d(()=>k.value.slice().sort((e,o)=>{const c=new Date(e.created_at),s=new Date(o.created_at);return c-s})),l=n(1),S=d(()=>Math.ceil(T.value.length/C)),U=d(()=>{const e=(l.value-1)*C,o=e+C;return T.value.slice(e,o)}),q=()=>{l.value<S.value&&l.value++},G=()=>{l.value>1&&l.value--},J=e=>{$.push(`/watch/${e}`)};return(e,o)=>{const c=Q;return a(),i("div",lt,[t("header",null,[t("div",ct,[o[0]||(o[0]=t("h1",{class:"logo"},[t("img",{src:z,alt:"RacingStation Logo",class:"logo-image"}),p(" RacingStation ")],-1)),t("div",ut,[t("button",{onClick:V,class:"icon-button"},[v.value?(a(),h(u(Y),{key:0})):(a(),h(u(Z),{key:1}))]),t("button",{onClick:f,class:"icon-button menu-toggle"},[m.value?(a(),h(u(I),{key:1})):(a(),h(u(tt),{key:0}))]),t("nav",dt,[t("ul",null,[(a(),i(w,null,b(A,s=>t("li",{key:s},[r(c,{to:M(s),class:"no-active-link"},{default:y(()=>[p(g(s),1)]),_:2},1032,["to"])])),64))])])])])]),r(H,{name:"slide"},{default:y(()=>[m.value?(a(),i("nav",gt,[t("div",mt,[t("button",{onClick:f,class:"icon-button close-menu"},[r(u(I))]),t("ul",null,[(a(),i(w,null,b(A,s=>t("li",{key:s},[r(c,{to:M(s),class:"no-active-link",onClick:f},{default:y(()=>[p(g(s),1)]),_:2},1032,["to"])])),64))])])])):x("",!0)]),_:1}),t("main",null,[r(at),R.value==="Latest News"?(a(),i("div",vt,[o[2]||(o[2]=t("h2",null,"Live Sports",-1)),t("div",_t,[(a(!0),i(w,null,b(U.value,s=>(a(),i("article",{key:s.slug,class:"stream-card",onClick:Mt=>J(s.slug)},[t("div",ht,[s.image_path?(a(),i("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,ft)):(a(),i("p",kt,"Image not available"))]),t("div",St,[t("h3",null,g(s.title),1),t("p",null,g(s.excerpt),1),t("div",wt,[t("span",bt,[o[1]||(o[1]=p(" Read more ")),r(u(nt))])])])],8,pt))),128))]),t("div",yt,[t("button",{onClick:G,disabled:l.value===1,class:"pagination-button"},[r(u(it))],8,Ct),t("span",Lt,"Page "+g(l.value)+" of "+g(S.value),1),t("button",{onClick:q,disabled:l.value===S.value,class:"pagination-button"},[r(u(rt))],8,Rt)])])):x("",!0)]),r(et)])}}};export{Pt as default};
