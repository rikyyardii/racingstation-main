import{_ as W}from"./B16HZT32.js";import{r as u,p as j,n as w,c as i,a as t,d as h,q as m,u as _,F as b,s as A,b as r,w as C,T as q,t as l,v as p,z as J,o}from"./NOtjPhkj.js";import{_ as R}from"./Cdtb-WDZ.js";import{S as X,M as G,a as K,X as $,F as Q}from"./CpoidPF2.js";import{A as I}from"./CYzYOwp6.js";import{A as Y,C as Z,a as tt}from"./Dv0WzLJl.js";const et={class:"app"},st={class:"header-content"},at={class:"header-controls"},ot={class:"desktop-nav"},nt={key:0,class:"mobile-nav"},lt={class:"mobile-nav-content"},it={key:0,class:"articles-section"},ct={class:"featured-article-content"},rt={class:"featured-article-image"},ut=["src","alt"],dt={key:1},_t={class:"featured-article-text"},vt={class:"article-category"},gt={class:"article-meta"},ht={class:"author-info"},mt=["alt"],pt={class:"author-name"},ft={class:"article-details"},kt={class:"article-grid"},yt=["onClick"],wt={class:"article-image-container"},bt=["src","alt"],At={key:1},Ct={class:"article-content"},Lt={class:"article-category"},xt={class:"excerpt"},Nt={class:"article-footer"},St={class:"article-date"},Dt={class:"read-more"},Mt={class:"pagination"},Pt=["disabled"],Rt={class:"pagination-info"},$t=["disabled"],L=6,Ht={__name:"index",setup(It){const V=J(),B=u(null),v=u(!1),g=u(!0),x=u("Latest News");u(!1),u(""),u("");const F=()=>{const e=new URL(window.location.href);return e.port="5000",e.origin},N=["Latest News","Watch Sports"],S=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},f=()=>{v.value=!v.value},z=()=>{g.value=!g.value,document.body.classList.toggle("light-mode",!g.value)},D=u([]),E=async()=>{try{const e=F(),a=await fetch(`${e}/api/articles_card`);if(!a.ok)throw new Error("Network response was not ok");const c=await a.json();D.value=c.map(s=>({...s,image_path:`${e}${s.image_path}`}))}catch(e){console.error("Error fetching articles:",e)}};j(()=>{E();const e=localStorage.getItem("selectedArticle");e&&(B.value=JSON.parse(e),x.value="Detailed Article")});const n=w(()=>D.value.slice().sort((e,a)=>new Date(a.date)-new Date(e.date))),d=u(1),k=w(()=>{const e=n.value.filter((a,c)=>c!==0);return Math.ceil(e.length/L)}),T=w(()=>{var y;const e=(y=n.value[0])==null?void 0:y.id,a=n.value.filter(U=>U.id!==e),c=(d.value-1)*L,s=c+L;return a.slice(c,s)}),H=()=>{d.value<k.value&&d.value++},O=()=>{d.value>1&&d.value--},M=e=>{e&&e.slug?V.push(`/article/${e.slug}`):console.error("Slug tidak ditemukan")},P=e=>{const a={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",a)};return(e,a)=>{const c=W;return o(),i("div",et,[t("header",null,[t("div",st,[a[1]||(a[1]=t("h1",{class:"logo"},[t("img",{src:R,alt:"RacingStation Logo",class:"logo-image"}),h(" RacingStation ")],-1)),t("div",at,[t("button",{onClick:z,class:"icon-button"},[g.value?(o(),m(_(X),{key:0})):(o(),m(_(G),{key:1}))]),t("button",{onClick:f,class:"icon-button menu-toggle"},[v.value?(o(),m(_($),{key:1})):(o(),m(_(K),{key:0}))]),t("nav",ot,[t("ul",null,[(o(),i(b,null,A(N,s=>t("li",{key:s},[r(c,{to:S(s),class:"no-active-link"},{default:C(()=>[h(l(s),1)]),_:2},1032,["to"])])),64))])])])])]),r(q,{name:"slide"},{default:C(()=>[v.value?(o(),i("nav",nt,[t("div",lt,[t("button",{onClick:f,class:"icon-button close-menu"},[r(_($))]),t("ul",null,[(o(),i(b,null,A(N,s=>t("li",{key:s},[r(c,{to:S(s),class:"no-active-link",onClick:f},{default:C(()=>[h(l(s),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),t("main",null,[r(I),x.value==="Latest News"?(o(),i("div",it,[a[4]||(a[4]=t("h2",null,"News",-1)),n.value.length>0?(o(),i("article",{key:0,class:"featured-article",onClick:a[0]||(a[0]=s=>M(n.value[0]))},[t("div",ct,[t("div",rt,[n.value[0].image_path?(o(),i("img",{key:0,src:n.value[0].image_path,alt:n.value[0].title,loading:"lazy"},null,8,ut)):(o(),i("p",dt,"Image not available"))]),t("div",_t,[t("span",vt,l(n.value[0].category),1),t("h3",null,l(n.value[0].title),1),t("p",null,l(n.value[0].excerpt),1),t("div",gt,[t("div",ht,[n.value[0].author?(o(),i("img",{key:0,class:"author-image",src:R,alt:n.value[0].author},null,8,mt)):p("",!0),t("div",null,[t("p",pt,l(n.value[0].author),1),t("div",ft,[t("time",null,l(P(n.value[0].date)),1),a[2]||(a[2]=t("span",{class:"separator"},"Â·",-1)),t("span",null,l(n.value[0].reading_time)+" min read",1)])])])])])])])):p("",!0),a[5]||(a[5]=t("h2",null,"Latest Article",-1)),t("div",kt,[(o(!0),i(b,null,A(T.value,s=>(o(),i("article",{key:s.slug,class:"article-card",onClick:y=>M(s)},[t("div",wt,[s.image_path?(o(),i("img",{key:0,src:s.image_path,alt:s.title,class:"article-image",loading:"lazy"},null,8,bt)):(o(),i("p",At,"Image not available"))]),t("div",Ct,[t("span",Lt,l(s.category),1),t("h3",null,l(s.title),1),t("p",xt,l(s.excerpt),1),t("div",Nt,[t("span",St,l(P(s.date)),1),t("span",Dt,[a[3]||(a[3]=h(" Read more ")),r(_(Y))])])])],8,yt))),128))]),t("div",Mt,[t("button",{onClick:O,disabled:d.value===1,class:"pagination-button"},[r(_(Z))],8,Pt),t("span",Rt,"Page "+l(d.value)+" of "+l(k.value),1),t("button",{onClick:H,disabled:d.value===k.value,class:"pagination-button"},[r(_(tt))],8,$t)])])):p("",!0)]),r(I),r(Q)])}}};export{Ht as default};
