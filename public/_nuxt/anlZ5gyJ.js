import{r as s,c as f,u as q,w as J,o as K,a as d,b as t,_ as Q,d as N,e as _,f as n,F as U,g as V,h as c,i as Y,T as Z,j as W,t as i,k as tt,l,n as F,m as et}from"./BsH3BaiF.js";import{c as y,S as at,M as st,a as ot,X as H,F as nt}from"./C9izS7sk.js";import{A as lt}from"./DHrE91Hd.js";import{u as ct}from"./48ses6eX.js";import{s as rt}from"./BZgiMVlh.js";import{C as it}from"./D5zlYOxQ.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=y("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=y("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=y("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),mt={class:"app"},vt={class:"header-content"},_t={class:"header-controls"},pt={class:"desktop-nav"},gt=["href"],kt={key:0,class:"mobile-nav"},ft={class:"mobile-nav-content"},yt=["href"],bt={class:"article-container"},wt={class:"back-nav"},Mt={href:"/",class:"back-link"},Ct={class:"hero-image"},Lt=["src","alt"],St={class:"article-content"},Dt={class:"category"},It={class:"title"},At={class:"metadata"},Tt={class:"metadata-item"},xt={class:"metadata-item"},Rt={class:"metadata-item"},$t=["innerHTML"],jt={__name:"[id]",async setup(Bt){let b,w;const j=tt(),M=s(null),u=s(null),C=s(null),L=s(null),S=s(null),p=s(null),h=s(null),E=s(""),m=s(!1),v=s(!0),D=["Latest News","Watch Sports"],I=s("Detailed Article"),A=f(()=>u.value||"Default Title"),T=f(()=>`Details about ${u.value||"this article"}`),z=e=>{const o={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",o)},{API_URL:G,IMAGE_URL:g}=q().public,x=e=>!e||typeof e!="string"?`${g}/public/img/default.jpg`:e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/public/img/")?`${g}${e}`:`${g}/public/img/${e}`,P=async e=>{const o=et();try{const a=await fetch(`${G}/articles/${e}`);if(a.ok){const r=await a.json();M.value=r.category,u.value=r.title,C.value=z(r.date),L.value=r.author,S.value=r.reading_time,p.value=r.content,h.value=x(r.image_path),console.log(h.value)}else a.status===404?(console.error("Artikel tidak ditemukan"),o.push("/404")):console.error("Gagal memuat artikel")}catch(a){console.error("Error fetching article:",a),o.push("/404")}},k=j.params.id;[b,w]=J(()=>P(k)),await b,w();const R=()=>{const e=new Date;E.value=e.toLocaleTimeString()},$=()=>{m.value=!m.value},O=()=>{v.value=!v.value,document.body.classList.toggle("light-mode",!v.value)},B=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},X=f(()=>p.value?p.value.replace(/\n/g,"<br>"):"");return K(async()=>{k?(await fetchStreamBySlug(k),ct({title:A.value,ogTitle:A.value,description:T.value,ogDescription:T.value,ogImage:seoImage.value,twitterCard:"summary_large_image"})):console.error("Slug is undefined"),R(),intervalId=rt(R,1e3)}),(e,o)=>(l(),d("div",mt,[t("header",null,[t("div",vt,[o[0]||(o[0]=t("h1",{class:"logo"},[t("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),N(" RacingStation ")],-1)),t("div",_t,[t("button",{onClick:O,class:"icon-button"},[v.value?(l(),_(n(at),{key:0})):(l(),_(n(st),{key:1}))]),t("button",{onClick:$,class:"icon-button menu-toggle"},[m.value?(l(),_(n(H),{key:1})):(l(),_(n(ot),{key:0}))]),t("nav",pt,[t("ul",null,[(l(),d(U,null,V(D,a=>t("li",{key:a},[t("a",{href:B(a),class:F({active:I.value===a})},i(a),11,gt)])),64))])])])])]),c(Z,{name:"slide"},{default:Y(()=>[m.value?(l(),d("nav",kt,[t("div",ft,[t("button",{onClick:$,class:"icon-button close-menu"},[c(n(H))]),t("ul",null,[(l(),d(U,null,V(D,a=>t("li",{key:a},[t("a",{href:B(a),class:F({active:I.value===a})},i(a),11,yt)])),64))])])])):W("",!0)]),_:1}),t("main",null,[c(lt),t("article",bt,[t("nav",wt,[t("a",Mt,[c(n(ut),{class:"icon"}),o[1]||(o[1]=N(" Back to Articles "))])]),t("div",Ct,[h.value?(l(),d("img",{key:0,src:x(h.value),alt:u.value},null,8,Lt)):W("",!0)]),t("div",St,[t("h1",Dt,i(M.value),1),t("h1",It,i(u.value),1),t("div",At,[t("div",Tt,[c(n(dt),{class:"icon"}),t("span",null,i(C.value),1)]),t("div",xt,[c(n(ht),{class:"icon"}),t("span",null,i(L.value),1)]),t("div",Rt,[c(n(it),{class:"icon"}),t("span",null,i(S.value)+" min read",1)])]),t("p",{class:"content",innerHTML:X.value},null,8,$t)])])]),c(nt)]))}};export{jt as default};
