import{r as a,k as X,l as p,m as J,p as K,c as d,a as t,_ as Q,b as N,d as g,u as n,F as B,e as U,f as c,w as Y,T as Z,g as V,t as i,q as tt,o as l,n as W,s as et}from"./Bxt6o2xq.js";import{c as y,S as st,M as at,a as ot,X as F,F as nt}from"./B2L3iXDp.js";import{A as lt}from"./D3oWMSfX.js";import{u as ct}from"./zaQ_01pX.js";import{s as rt}from"./BdWtB1Jz.js";import{C as it}from"./DqdVNrPU.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=y("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=y("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=y("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),mt={class:"app"},_t={class:"header-content"},vt={class:"header-controls"},pt={class:"desktop-nav"},gt=["href"],kt={key:0,class:"mobile-nav"},ft={class:"mobile-nav-content"},yt=["href"],bt={class:"article-container"},wt={class:"back-nav"},Mt={href:"/",class:"back-link"},Ct={class:"hero-image"},Lt=["src","alt"],At={class:"article-content"},Dt={class:"category"},Tt={class:"title"},It={class:"metadata"},St={class:"metadata-item"},xt={class:"metadata-item"},Rt={class:"metadata-item"},$t=["innerHTML"],Et={__name:"[id]",async setup(Nt){let b,w;const H=tt(),M=a(null),h=a(null),C=a(null),L=a(null),A=a(null),m=a(null),u=a(null),E=a(""),_=a(!1),v=a(!0),D=["Latest News","Watch Sports"],T=a("Detailed Article"),j=e=>{const o={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",o)},{API_URL:z,IMAGE_URL:k}=X().public,f=e=>!e||typeof e!="string"?`${k}/public/img/default.jpg`:e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/public/img/")?`${k}${e}`:`${k}/public/img/${e}`,I=p(()=>h.value||"Default Title"),S=p(()=>m.value);ct({title:I,ogTitle:I,description:S,ogDescription:S,ogImage:p(()=>f(u.value)),twitterCard:"summary_large_image"});const G=async e=>{const o=et();try{const s=await fetch(`${z}/articles/${e}`);if(s.ok){const r=await s.json();M.value=r.category,h.value=r.title,C.value=j(r.date),L.value=r.author,A.value=r.reading_time,m.value=r.content,u.value=f(r.image_path),console.log(u.value)}else s.status===404?(console.error("Artikel tidak ditemukan"),o.push("/404")):console.error("Gagal memuat artikel")}catch(s){console.error("Error fetching article:",s),o.push("/404")}},P=H.params.id;[b,w]=J(()=>G(P)),await b,w();const x=()=>{const e=new Date;E.value=e.toLocaleTimeString()},R=()=>{_.value=!_.value},q=()=>{v.value=!v.value,document.body.classList.toggle("light-mode",!v.value)},$=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},O=p(()=>m.value?m.value.replace(/\n/g,"<br>"):"");return K(()=>{x(),rt(x,1e3)}),(e,o)=>(l(),d("div",mt,[t("header",null,[t("div",_t,[o[0]||(o[0]=t("h1",{class:"logo"},[t("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),N(" RacingStation ")],-1)),t("div",vt,[t("button",{onClick:q,class:"icon-button"},[v.value?(l(),g(n(st),{key:0})):(l(),g(n(at),{key:1}))]),t("button",{onClick:R,class:"icon-button menu-toggle"},[_.value?(l(),g(n(F),{key:1})):(l(),g(n(ot),{key:0}))]),t("nav",pt,[t("ul",null,[(l(),d(B,null,U(D,s=>t("li",{key:s},[t("a",{href:$(s),class:W({active:T.value===s})},i(s),11,gt)])),64))])])])])]),c(Z,{name:"slide"},{default:Y(()=>[_.value?(l(),d("nav",kt,[t("div",ft,[t("button",{onClick:R,class:"icon-button close-menu"},[c(n(F))]),t("ul",null,[(l(),d(B,null,U(D,s=>t("li",{key:s},[t("a",{href:$(s),class:W({active:T.value===s})},i(s),11,yt)])),64))])])])):V("",!0)]),_:1}),t("main",null,[c(lt),t("article",bt,[t("nav",wt,[t("a",Mt,[c(n(ut),{class:"icon"}),o[1]||(o[1]=N(" Back to Articles "))])]),t("div",Ct,[u.value?(l(),d("img",{key:0,src:f(u.value),alt:h.value},null,8,Lt)):V("",!0)]),t("div",At,[t("h1",Dt,i(M.value),1),t("h1",Tt,i(h.value),1),t("div",It,[t("div",St,[c(n(dt),{class:"icon"}),t("span",null,i(C.value),1)]),t("div",xt,[c(n(ht),{class:"icon"}),t("span",null,i(L.value),1)]),t("div",Rt,[c(n(it),{class:"icon"}),t("span",null,i(A.value)+" min read",1)])]),t("p",{class:"content",innerHTML:O.value},null,8,$t)])])]),c(nt)]))}};export{Et as default};
