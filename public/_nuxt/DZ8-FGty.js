import{r,k as H,l as d,p as J,x as Q,c as l,a as e,_ as Y,b as U,d as S,u as m,F as C,e as E,f as v,w as Z,T as tt,t as i,g as F,q as et,s as ot,o as n,n as x,z as st}from"./D7vLjz9K.js";import{S as at,M as nt,a as rt,X as K,F as lt}from"./BqqzK9yO.js";import{A as it}from"./CgI5xPl7.js";import{u as ct}from"./D20v4k5w.js";import{s as ut}from"./DNTqYxDL.js";import{C as dt}from"./B47UEL_Q.js";const mt={class:"app"},vt={class:"header-content"},ht={class:"header-controls"},pt={class:"desktop-nav"},ft=["href"],gt={key:0,class:"mobile-nav"},yt={class:"mobile-nav-content"},_t=["href"],St={class:"live-streaming"},wt={key:0},kt={class:"video-container"},bt=["src"],$t={key:0,class:"button-container"},Ct=["onClick"],Et={class:"live-commentary"},Ft={class:"update-info"},It={class:"time"},Dt={class:"text-justify"},Bt={__name:"[id]",setup(Lt){const I=r(""),h=r(!1),p=r(!0),D=["Latest News","Watch Sports"],w=et().params.id||null,f=r(""),g=r(""),c=r(""),k=r(""),B=r(""),L=r(null),b=r([]),y=r("");let $=null;const j=t=>{if(c.value!==t){c.value=t;const s=window.history.state;window.history.replaceState(s,"",window.location.href)}},M=()=>{h.value=!h.value},N=()=>{p.value=!p.value,document.body.classList.toggle("light-mode",!p.value)},R=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},T=()=>{const t=new Date,s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(t),o=t.getDate(),a=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),_=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(t),X=t.toLocaleTimeString("en-US",{hour12:!0});I.value=`${s}, ${o} ${a} ${_}. ${X}`},{API_URL:W,IMAGE_URL:u}=H().public,P=t=>{const s=u.startsWith("http")?u:`https://${u}`;return!t||typeof t!="string"?`${s}/public/img/racingstation-stream.png`:t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/public/img/")?`${s}${t}`:`${s}/public/img/${t}`},V=d(()=>f.value||"RacingStation Stream"),q=d(()=>`${V.value} on RacingStation`),A=d(()=>k.value||"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports."),G=d(()=>u?`${u.startsWith("http")?u:`https://${u}`}/public/img/racingstation-stream.png`:"");d(()=>y.value==="enable"&&c.value?c.value:"/watch/offline_screen"),ct({title:q,ogTitle:"RacingStation Stream",description:A,ogDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",ogImage:G,twitterTitle:"RacingStation Stream",twitterDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",twitterCard:"summary_large_image"});const z=async t=>{const s=ot();try{const o=await fetch(`${W}/streams/${t}`);if(o.ok){const a=await o.json();f.value=a.title,g.value=a.event,k.value=a.content,y.value=a.status,B.value=P(a.image_path),a.status==="enable"?c.value=a.link:c.value="/watch/offline_screen"}else o.status===404?(console.error("Stream not found"),s.push("/404")):console.error("Failed to fetch stream data")}catch(o){console.error("Error fetching stream:",o),s.push("/404")}},O=async t=>{try{const s=await fetch(`${W}/streams/${t}`);if(s.ok){const o=await s.json();b.value=[],["link","link2","link3","link4"].forEach((a,_)=>{o[a]&&b.value.push({label:`Server ${_+1}`,url:o[a],status:o.status})})}else console.error("Failed to fetch buttons data")}catch(s){console.error("Error fetching buttons:",s)}};return d(()=>g.value?`(${g.value})`:""),J(()=>{w?(z(w),O(w)):console.error("Slug is undefined"),T(),$=ut(T,1e3),document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("keydown",t=>{(t.ctrlKey&&t.shiftKey&&t.code==="KeyI"||t.ctrlKey&&t.shiftKey&&t.code==="KeyC"||t.ctrlKey&&t.code==="KeyU"||t.code==="F12")&&(t.preventDefault(),t.stopPropagation())})}),Q(()=>{$!==null&&clearInterval($),document.removeEventListener("contextmenu",t=>t.preventDefault()),document.removeEventListener("keydown",t=>{})}),(t,s)=>(n(),l("div",mt,[e("header",null,[e("div",vt,[s[0]||(s[0]=e("h1",{class:"logo"},[e("img",{src:Y,alt:"RacingStation Logo",class:"logo-image"}),U(" RacingStation ")],-1)),e("div",ht,[e("button",{onClick:N,class:"icon-button"},[p.value?(n(),S(m(at),{key:0})):(n(),S(m(nt),{key:1}))]),e("button",{onClick:M,class:"icon-button menu-toggle"},[h.value?(n(),S(m(K),{key:1})):(n(),S(m(rt),{key:0}))]),e("nav",pt,[e("ul",null,[(n(),l(C,null,E(D,o=>e("li",{key:o},[e("a",{href:R(o),class:x({active:L.value===o})},i(o),11,ft)])),64))])])])])]),v(tt,{name:"slide"},{default:Z(()=>[h.value?(n(),l("nav",gt,[e("div",yt,[e("button",{onClick:M,class:"icon-button close-menu"},[v(m(K))]),e("ul",null,[(n(),l(C,null,E(D,o=>e("li",{key:o},[e("a",{href:R(o),class:x({active:L.value===o})},i(o),11,_t)])),64))])])])):F("",!0)]),_:1}),e("main",null,[v(it),e("div",St,[e("h1",null,[U(i(f.value)+" ",1),y.value==="enable"?(n(),l("span",wt,i(g.value),1)):F("",!0)]),e("div",kt,[e("iframe",{src:c.value,seamless:"seamless",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,bt),s[1]||(s[1]=e("div",{class:"iframe-overlay"},null,-1))]),y.value==="enable"?(n(),l("div",$t,[(n(!0),l(C,null,E(b.value,(o,a)=>(n(),l("button",{key:a,class:"action-button",onClick:st(_=>j(o.url),["prevent"])},i(o.label),9,Ct))),128))])):F("",!0),e("div",Et,[e("div",Ft,[v(m(dt)),e("span",It,i(I.value),1)]),e("h1",null,"What is "+i(f.value)+"?",1),e("p",Dt,i(k.value),1)])])]),v(lt)]))}};export{Bt as default};
