import{r as u,u as O,o as q,c as b,a as i,b as t,_ as P,d as h,e as m,f as _,F as w,g as A,h as r,i as C,T as J,t as l,j as p,p as X,l as o,q as H}from"./Cm5iSicD.js";import{S as K,M as Q,a as Y,X as F,F as Z}from"./Df0Nu2BT.js";import{A as I}from"./BX_IqxAI.js";import{u as tt}from"./BEOrdtuY.js";import{A as et,C as st,a as at}from"./BrCOEJDc.js";const ot={class:"app"},nt={class:"header-content"},lt={class:"header-controls"},it={class:"desktop-nav"},ct={key:0,class:"mobile-nav"},rt={class:"mobile-nav-content"},ut={key:0,class:"articles-section"},dt={class:"featured-article-content"},_t={class:"featured-article-image"},gt=["src","alt"],vt={key:1},ht={class:"featured-article-text"},mt={class:"article-category"},pt={class:"excerpt"},ft={class:"article-meta"},kt={class:"author-info"},yt=["alt"],bt={class:"author-name"},wt={class:"article-details"},At={class:"article-grid"},Ct=["onClick"],St={class:"article-image-container"},xt=["src","alt"],Lt={key:1},Mt={class:"article-content"},Rt={class:"article-category"},Nt={class:"text-left hover:text-justify"},Dt={class:"article-footer"},Pt={class:"article-date"},Ft={class:"read-more"},It={class:"pagination"},Et=["disabled"],$t={class:"pagination-info"},Gt=["disabled"],S=6,zt={__name:"index",setup(Vt){const E=X(),$=u(null),g=u(!1),v=u(!0),x=u("Latest News");u(!1),u(""),u("");const L=["Latest News","Watch Sports"];tt({title:"RacingStation",ogTitle:"RacingStation",description:"Get the latest sports news and live sports streaming include F1, MotoGP, WEC, Football, and other sports with a mobile-friendly display and stable steaming in RacingStation",ogDescription:"Get the latest sports news and live sports streaming include F1, MotoGP, WEC, Football, and other sports with a mobile-friendly display and stable steaming in RacingStation"});const M=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},f=()=>{g.value=!g.value},G=()=>{v.value=!v.value,document.body.classList.toggle("light-mode",!v.value)},R=u([]),{API_URL:V,IMAGE_URL:B}=O().public,T=async()=>{try{const e=await fetch(`${V}/articles_card`);if(!e.ok)throw new Error("Network response was not ok");const s=await e.json();R.value=s.map(c=>({...c,image_path:`${B}${c.image_path}`,slug:c.slug}))}catch(e){console.error("Error fetching articles:",e)}};q(()=>{T();const e=localStorage.getItem("selectedArticle");e&&($.value=JSON.parse(e),x.value="Detailed Article")});const n=b(()=>R.value.slice().sort((e,s)=>new Date(s.date)-new Date(e.date))),d=u(1),k=b(()=>{const e=n.value.filter((s,c)=>c!==0);return Math.ceil(e.length/S)}),W=b(()=>{var y;const e=(y=n.value[0])==null?void 0:y.id,s=n.value.filter(z=>z.id!==e),c=(d.value-1)*S,a=c+S;return s.slice(c,a)}),j=()=>{d.value<k.value&&d.value++},U=()=>{d.value>1&&d.value--},N=e=>{e&&e.slug?E.push(`/article/${e.slug}`):console.error("Slug tidak ditemukan")},D=e=>{const s={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",s)};return(e,s)=>{const c=H;return o(),i("div",ot,[t("header",null,[t("div",nt,[s[1]||(s[1]=t("h1",{class:"logo"},[t("img",{src:P,alt:"RacingStation Logo",class:"logo-image"}),h(" RacingStation ")],-1)),t("div",lt,[t("button",{onClick:G,class:"icon-button"},[v.value?(o(),m(_(K),{key:0})):(o(),m(_(Q),{key:1}))]),t("button",{onClick:f,class:"icon-button menu-toggle"},[g.value?(o(),m(_(F),{key:1})):(o(),m(_(Y),{key:0}))]),t("nav",it,[t("ul",null,[(o(),i(w,null,A(L,a=>t("li",{key:a},[r(c,{to:M(a),class:"no-active-link"},{default:C(()=>[h(l(a),1)]),_:2},1032,["to"])])),64))])])])])]),r(J,{name:"slide"},{default:C(()=>[g.value?(o(),i("nav",ct,[t("div",rt,[t("button",{onClick:f,class:"icon-button close-menu"},[r(_(F))]),t("ul",null,[(o(),i(w,null,A(L,a=>t("li",{key:a},[r(c,{to:M(a),class:"no-active-link",onClick:f},{default:C(()=>[h(l(a),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),t("main",null,[r(I),x.value==="Latest News"?(o(),i("div",ut,[s[4]||(s[4]=t("h2",{class:"font-sans font-normal"},"News",-1)),n.value.length>0?(o(),i("article",{key:0,class:"featured-article",onClick:s[0]||(s[0]=a=>N(n.value[0]))},[t("div",dt,[t("div",_t,[n.value[0].image_path?(o(),i("img",{key:0,src:n.value[0].image_path,alt:n.value[0].title,loading:"lazy"},null,8,gt)):(o(),i("p",vt,"Image not available"))]),t("div",ht,[t("span",mt,l(n.value[0].category),1),t("h3",null,l(n.value[0].title),1),t("p",pt,l(n.value[0].excerpt),1),t("div",ft,[t("div",kt,[n.value[0].author?(o(),i("img",{key:0,class:"author-image",src:P,alt:n.value[0].author},null,8,yt)):p("",!0),t("div",null,[t("p",bt,l(n.value[0].author),1),t("div",wt,[t("time",null,l(D(n.value[0].date)),1),s[2]||(s[2]=t("span",{class:"separator"},"Â·",-1)),t("span",null,l(n.value[0].reading_time)+" min read",1)])])])])])])])):p("",!0),s[5]||(s[5]=t("h2",{class:"font-sans font-normal"},"Latest Article",-1)),t("div",At,[(o(!0),i(w,null,A(W.value,a=>(o(),i("article",{key:a.slug,class:"article-card",onClick:y=>N(a)},[t("div",St,[a.image_path?(o(),i("img",{key:0,src:a.image_path,alt:a.title,class:"article-image",loading:"lazy"},null,8,xt)):(o(),i("p",Lt,"Image not available"))]),t("div",Mt,[t("span",Rt,l(a.category),1),t("h3",null,l(a.title),1),t("p",Nt,l(a.excerpt),1),t("div",Dt,[t("span",Pt,l(D(a.date)),1),t("span",Ft,[s[3]||(s[3]=h(" Read more ")),r(_(et))])])])],8,Ct))),128))]),t("div",It,[t("button",{onClick:U,disabled:d.value===1,class:"pagination-button"},[r(_(st))],8,Et),t("span",$t,"Page "+l(d.value)+" of "+l(k.value),1),t("button",{onClick:j,disabled:d.value===k.value,class:"pagination-button"},[r(_(at))],8,Gt)])])):p("",!0)]),r(I),r(Z)])}}};export{zt as default};
