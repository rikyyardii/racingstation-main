import{r as n,k as de,l as v,m as j,v as ve,x as me,c as r,a as t,_ as he,b as C,d as L,u as c,F as I,e as N,g as p,f as l,w as T,T as ge,y as K,z as D,A as G,I as J,B as pe,n as fe,t as m,q as _e,o,h as be}from"./B683Eh06.js";import{S as ke,M as we,a as ye,X,F as Se}from"./D73_bQhw.js";import{u as Ce}from"./kDA8QHO3.js";import{s as Le}from"./BCZ2IK3I.js";import{S as x,C as Me,a as Re}from"./DGGPIHzR.js";import{A as Ae}from"./C-slPpcN.js";const Ie={class:"app"},Ne={class:"header-content"},Te={class:"header-controls"},De={class:"desktop-nav"},xe={key:0,class:"mobile-nav"},Ee={class:"mobile-nav-content"},Pe={key:0,class:"articles-section"},Ve={class:"stream-header"},We={key:0,class:"search-container"},$e={type:"submit",class:"search-button"},Ue={type:"submit",class:"search-button"},Be={class:"stream-grid"},ze=["onClick"],qe={class:"stream-image-container"},Fe=["src","alt"],Oe={key:1},Qe={class:"stream-content"},je={class:"stream-category"},Ke={class:"stream-footer"},Ge={class:"read-more"},Je={key:1,class:"pagination"},Xe=["disabled"],He={class:"pagination-info"},Ye=["disabled"],E=6,rt={__name:"stream",setup(Ze){const H=n(""),Y=_e(),Z=n(""),P=n(!0),h=n(""),V=async()=>{try{const e=await fetch(`${q}/adslink_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();a&&a.length>0?(h.value=a[0].adslink,console.log("Redirect URL set to:",h.value)):h.value="https://diarrhoeaeaglesunday.com/nuq43mw5?key=0bdf39cccdf2c3d75bc9a21410f7ef48"}catch(e){console.error("Error fetching adslink:",e),h.value="https://diarrhoeaeaglesunday.com/nuq43mw5?key=0bdf39cccdf2c3d75bc9a21410f7ef48"}},ee=()=>{window.open(h.value,"_blank"),P.value=!1},W=()=>{const e=document.createElement("script");e.async=!0,e.setAttribute("data-cfasync","false"),e.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(e)},$=()=>{const e=new Date;H.value=e.toLocaleTimeString()},te=n(null),b=n(!1),k=n(!0),U=n("Latest News");n(!1),n(""),n("");const d=n(""),g=n(!1),f=n(!1),B=["Latest News","Watch Sports"],z=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},M=()=>{b.value=!b.value},ae=()=>{k.value=!k.value,document.body.classList.toggle("light-mode",!k.value)},R=n([]),{API_URL:q,IMAGE_URL:w}=de().public,se=v(()=>"RacingStation Stream"),oe=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),ne=v(()=>`${w.startsWith("http")?w:`https://${w}`}/public/img/racingstation-stream.png`);Ce({title:se,ogTitle:"RacingStation Stream",description:oe,ogDescription:"Watch live streaming of your favorite events.",ogImage:ne,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const F=async()=>{try{const e=await fetch(`${q}/streams_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();R.value=a.map(i=>(R.value.length===0&&(Z.value=i.title),{...i,image_path:`${w}${i.image_path}`})),a.length>0&&a[0].redirect_url&&(h.value=a[0].redirect_url)}catch(e){console.error("Error fetching streams:",e)}},y=()=>{localStorage.setItem("streamSearchQuery",d.value),g.value&&(f.value=!1)},O=v(()=>{const e=d.value.trim().toLowerCase();return e?Q.value.filter(a=>{var A;const i=a.title.toLowerCase().includes(e),s=((A=a.category)==null?void 0:A.toLowerCase().includes(e))||!1;return i||s}):Q.value}),re=()=>{f.value=!f.value},_=()=>{g.value=window.innerWidth<=640,g.value||(f.value=!0)};j(()=>{const e=localStorage.getItem("streamSearchQuery");e&&(d.value=e),W(),_(),window.addEventListener("resize",_),F(),V()}),j(()=>{W(),_(),window.addEventListener("resize",_),F(),V(),$(),Le($,1e3);const e=localStorage.getItem("selectedArticle");e&&(te.value=JSON.parse(e),U.value="Detailed Article")}),ve(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",_)});const Q=v(()=>R.value.slice().sort((e,a)=>{const i=new Date(e.created_at),s=new Date(a.created_at);return i-s})),u=n(1),S=v(()=>Math.ceil(O.value.length/E));me(d,e=>{e.trim()&&(u.value=1)});const ce=v(()=>{const e=(u.value-1)*E,a=e+E;return O.value.slice(e,a)}),le=()=>{u.value<S.value&&u.value++},ie=()=>{u.value>1&&u.value--},ue=e=>{Y.push(`/watch/${e}`)};return(e,a)=>{const i=be;return o(),r("div",Ie,[t("header",null,[t("div",Ne,[a[2]||(a[2]=t("h1",{class:"logo"},[t("img",{src:he,alt:"RacingStation Logo",class:"logo-image"}),C(" RacingStation ")],-1)),t("div",Te,[t("button",{onClick:ae,class:"icon-button"},[k.value?(o(),L(c(ke),{key:0})):(o(),L(c(we),{key:1}))]),t("button",{onClick:M,class:"icon-button menu-toggle"},[b.value?(o(),L(c(X),{key:1})):(o(),L(c(ye),{key:0}))]),t("nav",De,[t("ul",null,[(o(),r(I,null,N(B,s=>t("li",{key:s},[l(i,{to:z(s),class:"no-active-link"},{default:T(()=>[C(m(s),1)]),_:2},1032,["to"])])),64))])])])])]),P.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:ee})):p("",!0),l(ge,{name:"slide"},{default:T(()=>[b.value?(o(),r("nav",xe,[t("div",Ee,[t("button",{onClick:M,class:"icon-button close-menu"},[l(c(X))]),t("ul",null,[(o(),r(I,null,N(B,s=>t("li",{key:s},[l(i,{to:z(s),class:"no-active-link",onClick:M},{default:T(()=>[C(m(s),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),t("main",null,[a[5]||(a[5]=t("div",{class:"adsterra-container"},[t("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),U.value==="Latest News"?(o(),r("div",Pe,[t("div",Ve,[a[3]||(a[3]=t("h2",{class:"font-sans font-normal"},"Live Sports",-1)),g.value?p("",!0):(o(),r("div",We,[t("form",{onSubmit:K(y,["prevent"]),class:"search-form"},[D(t("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(y,["enter"])},null,544),[[G,d.value]]),t("button",$e,[l(c(x),{class:"search-icon"})])],32)])),D(t("button",{onClick:re,class:"mobile-search-icon"},[l(c(x),{class:"search-icon"})],512),[[pe,g.value]])]),g.value?(o(),r("div",{key:0,class:fe(["search-container mobile-search",{"mobile-search-active":f.value}])},[t("form",{onSubmit:K(y,["prevent"]),class:"search-form"},[D(t("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(y,["enter"])},null,544),[[G,d.value]]),t("button",Ue,[l(c(x),{class:"search-icon"})])],32)],2)):p("",!0),t("div",Be,[(o(!0),r(I,null,N(ce.value,s=>(o(),r("article",{key:s.slug,class:"stream-card",onClick:A=>ue(s.slug)},[t("div",qe,[s.image_path?(o(),r("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,Fe)):(o(),r("p",Oe,"Image not available"))]),t("div",Qe,[t("span",je,m(s.category),1),t("h3",null,m(s.title),1),t("p",null,m(s.excerpt),1),t("div",Ke,[t("span",Ge,[a[4]||(a[4]=C(" Watch stream ")),l(c(Ae))])])])],8,ze))),128))]),S.value>1?(o(),r("div",Je,[t("button",{onClick:ie,disabled:u.value===1,class:"pagination-button"},[l(c(Me))],8,Xe),t("span",He,"Page "+m(u.value)+" of "+m(S.value),1),t("button",{onClick:le,disabled:u.value===S.value,class:"pagination-button"},[l(c(Re))],8,Ye)])):p("",!0)])):p("",!0),a[6]||(a[6]=t("div",{class:"adsterra-container"},null,-1))]),l(Se)])}}};export{rt as default};
