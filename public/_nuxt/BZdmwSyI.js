import{_ as v,r as l,u as g,c as i,a as o,C as u,D as d,t as y,x as w,B as _,A as b,o as p}from"./unPalxV7.js";const x={class:"login-container"},S={class:"form-group"},k={class:"form-group"},L={key:0,class:"error"},P={__name:"index",setup(B){const a=l(""),r=l(""),s=l(""),c=b(),{API_URL:m}=g().public,f=async()=>{s.value="";try{const t=await fetch(`${m}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.value,password:r.value}),credentials:"include"}),e=await t.json();t.ok&&e.success?(console.log("Login successful!"),c.push("/rikya/components/Home")):s.value=e.message||"Login failed. Please try again."}catch(t){console.error("Login error:",t),s.value="An error occurred. Please try again later."}};return(t,e)=>(p(),i("div",x,[o("form",{onSubmit:_(f,["prevent"]),class:"login-form"},[e[4]||(e[4]=o("h1",null,"RacingStation",-1)),o("div",S,[e[2]||(e[2]=o("label",{for:"username"},"Username",-1)),u(o("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),required:"",autocomplete:"off"},null,512),[[d,a.value]])]),o("div",k,[e[3]||(e[3]=o("label",{for:"password"},"Password",-1)),u(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),required:"",autocomplete:"off"},null,512),[[d,r.value]])]),e[5]||(e[5]=o("button",{type:"submit"},"Log In",-1)),s.value?(p(),i("div",L,y(s.value),1)):w("",!0)],32)]))}},R=v(P,[["__scopeId","data-v-78444936"]]);export{R as default};
