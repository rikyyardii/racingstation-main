import{r as n,k as de,l as v,p as K,v as ve,x as me,c as r,a as t,h as p,b as l,d as L,_ as he,e as M,u as c,F as N,f as T,w as D,T as pe,y as x,z as q,A as G,I as J,B as ge,n as fe,t as m,q as _e,o,g as be}from"./CKuKauBZ.js";import{S as ke,M as we,a as ye,X,F as Se}from"./CZoAt27E.js";import{u as Ce}from"./Dgp_hxBE.js";import{s as Le}from"./BmQpID1l.js";import{S as E,C as Me,a as Ae}from"./CE1NOboJ.js";import{A as Re}from"./CK-PDcsA.js";const Ie={class:"app"},Ne={class:"header-content"},Te={class:"header-controls"},De={class:"desktop-nav"},xe={key:0,class:"mobile-nav"},Ee={class:"mobile-nav-content"},Pe={key:0,class:"articles-section"},Ve={class:"stream-header"},We={key:0,class:"search-container"},$e={type:"submit",class:"search-button"},Be={type:"submit",class:"search-button"},Ue={class:"stream-grid"},ze=["onClick"],Fe={class:"stream-image-container"},Oe=["src","alt"],Qe={key:1},je={class:"stream-content"},Ke={class:"stream-category"},qe={class:"stream-footer"},Ge={class:"read-more"},Je={key:1,class:"pagination"},Xe=["disabled"],He={class:"pagination-info"},Ye=["disabled"],P=6,rt={__name:"stream",setup(Ze){const H=n(""),Y=_e(),Z=n(""),g=n(!0),f=n(""),V=async()=>{try{const e=await fetch(`${F}/adslink_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();a&&a.length>0&&a[0].status==="enable"?(f.value=a[0].adslink,g.value=!0):(f.value="",g.value=!1)}catch(e){console.error("Error fetching adslink:",e),f.value="",g.value=!1}},ee=()=>{window.open(f.value,"_blank"),g.value=!1},W=()=>{const e=document.createElement("script");e.async=!0,e.setAttribute("data-cfasync","false"),e.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(e)},$=()=>{const e=new Date;H.value=e.toLocaleTimeString()},te=n(null),k=n(!1),w=n(!0),B=n("Latest News");n(!1),n(""),n("");const d=n(""),h=n(!1),_=n(!1),U=["Latest News","Watch Sports"],z=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},A=()=>{k.value=!k.value},ae=()=>{w.value=!w.value,document.body.classList.toggle("light-mode",!w.value)},R=n([]),{API_URL:F,IMAGE_URL:y}=de().public,se=v(()=>"RacingStation Stream"),oe=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),ne=v(()=>`${y.startsWith("http")?y:`https://${y}`}/public/img/racingstation-stream.png`);Ce({title:se,ogTitle:"RacingStation Stream",description:oe,ogDescription:"Watch live streaming of your favorite events.",ogImage:ne,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const O=async()=>{try{const e=await fetch(`${F}/streams_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();R.value=a.map(i=>(R.value.length===0&&(Z.value=i.title),{...i,image_path:`${y}${i.image_path}`})),a.length>0&&a[0].redirect_url&&(f.value=a[0].redirect_url)}catch(e){console.error("Error fetching streams:",e)}},S=()=>{localStorage.setItem("streamSearchQuery",d.value),h.value&&(_.value=!1)},Q=v(()=>{const e=d.value.trim().toLowerCase();return e?j.value.filter(a=>{var I;const i=a.title.toLowerCase().includes(e),s=((I=a.category)==null?void 0:I.toLowerCase().includes(e))||!1;return i||s}):j.value}),re=()=>{_.value=!_.value},b=()=>{h.value=window.innerWidth<=640,h.value||(_.value=!0)};K(()=>{const e=localStorage.getItem("streamSearchQuery");e&&(d.value=e),W(),b(),window.addEventListener("resize",b),O(),V()}),K(()=>{W(),b(),window.addEventListener("resize",b),O(),V(),$(),Le($,1e3);const e=localStorage.getItem("selectedArticle");e&&(te.value=JSON.parse(e),B.value="Detailed Article")}),ve(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",b)});const j=v(()=>R.value.slice().sort((e,a)=>{const i=new Date(e.created_at),s=new Date(a.created_at);return i-s})),u=n(1),C=v(()=>Math.ceil(Q.value.length/P));me(d,e=>{e.trim()&&(u.value=1)});const le=v(()=>{const e=(u.value-1)*P,a=e+P;return Q.value.slice(e,a)}),ce=()=>{u.value<C.value&&u.value++},ie=()=>{u.value>1&&u.value--},ue=e=>{Y.push(`/watch/${e}`)};return(e,a)=>{const i=be;return o(),r("div",Ie,[t("header",null,[t("div",Ne,[a[2]||(a[2]=t("h1",{class:"logo"},[t("img",{src:he,alt:"RacingStation Logo",class:"logo-image"}),L(" RacingStation ")],-1)),t("div",Te,[t("button",{onClick:ae,class:"icon-button"},[w.value?(o(),M(c(ke),{key:0})):(o(),M(c(we),{key:1}))]),t("button",{onClick:A,class:"icon-button menu-toggle"},[k.value?(o(),M(c(X),{key:1})):(o(),M(c(ye),{key:0}))]),t("nav",De,[t("ul",null,[(o(),r(N,null,T(U,s=>t("li",{key:s},[l(i,{to:z(s),class:"no-active-link"},{default:D(()=>[L(m(s),1)]),_:2},1032,["to"])])),64))])])])])]),g.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:ee})):p("",!0),l(pe,{name:"slide"},{default:D(()=>[k.value?(o(),r("nav",xe,[t("div",Ee,[t("button",{onClick:A,class:"icon-button close-menu"},[l(c(X))]),t("ul",null,[(o(),r(N,null,T(U,s=>t("li",{key:s},[l(i,{to:z(s),class:"no-active-link",onClick:A},{default:D(()=>[L(m(s),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),t("main",null,[a[5]||(a[5]=t("div",{class:"adsterra-container"},[t("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),B.value==="Latest News"?(o(),r("div",Pe,[t("div",Ve,[a[3]||(a[3]=t("h2",{class:"font-sans font-normal"},"Live Sports",-1)),h.value?p("",!0):(o(),r("div",We,[t("form",{onSubmit:q(S,["prevent"]),class:"search-form"},[x(t("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(S,["enter"])},null,544),[[G,d.value]]),t("button",$e,[l(c(E),{class:"search-icon"})])],32)])),x(t("button",{onClick:re,class:"mobile-search-icon"},[l(c(E),{class:"search-icon"})],512),[[ge,h.value]])]),h.value?(o(),r("div",{key:0,class:fe(["search-container mobile-search",{"mobile-search-active":_.value}])},[t("form",{onSubmit:q(S,["prevent"]),class:"search-form"},[x(t("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(S,["enter"])},null,544),[[G,d.value]]),t("button",Be,[l(c(E),{class:"search-icon"})])],32)],2)):p("",!0),t("div",Ue,[(o(!0),r(N,null,T(le.value,s=>(o(),r("article",{key:s.slug,class:"stream-card",onClick:I=>ue(s.slug)},[t("div",Fe,[s.image_path?(o(),r("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,Oe)):(o(),r("p",Qe,"Image not available"))]),t("div",je,[t("span",Ke,m(s.category),1),t("h3",null,m(s.title),1),t("p",null,m(s.excerpt),1),t("div",qe,[t("span",Ge,[a[4]||(a[4]=L(" Watch stream ")),l(c(Re))])])])],8,ze))),128))]),C.value>1?(o(),r("div",Je,[t("button",{onClick:ie,disabled:u.value===1,class:"pagination-button"},[l(c(Me))],8,Xe),t("span",He,"Page "+m(u.value)+" of "+m(C.value),1),t("button",{onClick:ce,disabled:u.value===C.value,class:"pagination-button"},[l(c(Ae))],8,Ye)])):p("",!0)])):p("",!0),a[6]||(a[6]=t("div",{class:"adsterra-container"},null,-1))]),l(Se)])}}};export{rt as default};
