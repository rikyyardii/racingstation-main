import{_ as m,E as v,H as g,r as f,p as b,c as x,a as e,d as k,A as y,B as s,C as r,I as w,o as S}from"./NOtjPhkj.js";import{_ as E}from"./Cdtb-WDZ.js";import{a as u}from"./CCb-kr4I.js";const U={class:"app-wrapper"},V={class:"header-content"},T={class:"container"},B={__name:"[id]",setup(D){const i=()=>{const l=new URL(window.location.href);return l.port="5000",l.origin},d=v(),n=g(),a=f({title:"",excerpt:"",link:"",content:"",status:""});b(async()=>{try{const l=n.params.id,t=await u.get(`${i()}/api/streams/${l}`);a.value=t.data}catch(l){console.error("Error fetching stream data:",l)}});const p=async()=>{var l;try{const t=n.params.slug||n.params.id;if(!t){alert("Slug tidak ditemukan!");return}await u.put(`${i()}/api/streams/${t}`,a.value),alert("Stream berhasil diperbarui!"),d.go(-1)}catch(t){console.error("Error updating stream:",((l=t.response)==null?void 0:l.data)||t.message),alert("Gagal memperbarui stream.")}};return(l,t)=>(S(),x("div",U,[e("header",null,[e("div",V,[e("h1",{class:"logo",onClick:t[0]||(t[0]=(...o)=>l.navigateToArtikel&&l.navigateToArtikel(...o)),style:{cursor:"pointer"}},t[6]||(t[6]=[e("img",{src:E,alt:"RacingStation Logo",class:"logo-image"},null,-1),k(" Dashboard ")]))])]),e("div",T,[t[14]||(t[14]=e("h2",{class:"black-text"},"Edit Livestream",-1)),e("form",{onSubmit:y(p,["prevent"])},[e("div",null,[t[7]||(t[7]=e("label",{for:"title"},"Title:",-1)),s(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>a.value.title=o),id:"title"},null,512),[[r,a.value.title]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"excerpt"},"Excerpt:",-1)),s(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>a.value.excerpt=o),id:"excerpt"},null,512),[[r,a.value.excerpt]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"link"},"Link:",-1)),s(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>a.value.link=o),id:"link"},null,512),[[r,a.value.link]])]),e("div",null,[t[10]||(t[10]=e("label",{for:"content"},"Content:",-1)),s(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.content=o),id:"content"},null,512),[[r,a.value.content]])]),e("div",null,[t[12]||(t[12]=e("label",{for:"status"},"Status:",-1)),s(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>a.value.status=o),id:"status"},t[11]||(t[11]=[e("option",{value:"enable"},"Enable",-1),e("option",{value:"disable"},"Disable",-1)]),512),[[w,a.value.status]])]),t[13]||(t[13]=e("button",{type:"submit"},"Update Stream",-1))],32)])]))}},$=m(B,[["__scopeId","data-v-48f972df"]]);export{$ as default};
