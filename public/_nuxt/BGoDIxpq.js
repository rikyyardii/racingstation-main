import{r as n,u as de,c as v,o as K,a as ve,w as me,b as r,d as t,f as p,e as l,g as L,h as he,i as M,j as c,F as T,k as D,l as I,T as pe,m as x,p as q,v as G,z as J,q as ge,n as fe,t as m,s as _e,x as o,y as be}from"./YPyMNa1S.js";import{S as ke,M as we,a as ye,X,F as Se}from"./cFPZJSer.js";import{u as Ce}from"./Do9fDBrI.js";import{s as Le}from"./x_rD_Ya3.js";import{S as E,C as Me,a as Re}from"./DTcqdJjY.js";import{A as Ae}from"./BXzU5MWv.js";const Ne={class:"app"},Te={class:"header-content"},De={class:"header-controls"},Ie={class:"desktop-nav"},xe={key:0,class:"mobile-nav"},Ee={class:"mobile-nav-content"},Pe={key:0,class:"articles-section"},Ve={class:"stream-header"},We={key:0,class:"search-container"},$e={type:"submit",class:"search-button"},Ue={type:"submit",class:"search-button"},ze={class:"stream-grid"},Be=["onClick"],je={class:"stream-image-container"},Fe=["src","alt"],Oe={key:1},Qe={class:"stream-content"},Ke={class:"stream-category"},qe={class:"stream-footer"},Ge={class:"read-more"},Je={key:1,class:"pagination"},Xe=["disabled"],He={class:"pagination-info"},Ye=["disabled"],P=6,rt={__name:"stream",setup(Ze){const H=n(""),Y=_e(),Z=n(""),g=n(!0),f=n(""),V=async()=>{try{const e=await fetch(`${j}/adslink_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();a&&a.length>0&&a[0].status==="enable"?(f.value=a[0].adslink,g.value=!0):(f.value="",g.value=!1)}catch(e){console.error("Error fetching adslink:",e),f.value="",g.value=!1}},ee=()=>{window.open(f.value,"_blank"),g.value=!1},W=()=>{const e=document.createElement("script");e.async=!0,e.setAttribute("data-cfasync","false"),e.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(e)},$=()=>{const e=new Date;H.value=e.toLocaleTimeString()},te=n(null),k=n(!1),w=n(!0),U=n("Latest News");n(!1),n(""),n("");const d=n(""),h=n(!1),_=n(!1),z=["Latest News","Watch Sports"],B=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},R=()=>{k.value=!k.value},ae=()=>{w.value=!w.value,document.body.classList.toggle("light-mode",!w.value)},A=n([]),{API_URL:j,IMAGE_URL:y}=de().public,se=v(()=>"RacingStation Stream"),oe=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),ne=v(()=>`${y.startsWith("http")?y:`https://${y}`}/public/img/racingstation-stream.png`);Ce({title:se,ogTitle:"RacingStation Stream",description:oe,ogDescription:"Watch live streaming of your favorite events.",ogImage:ne,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const F=async()=>{try{const e=await fetch(`${j}/streams_card`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();A.value=a.map(i=>(A.value.length===0&&(Z.value=i.title),{...i,image_path:`${y}${i.image_path}`})),a.length>0&&a[0].redirect_url&&(f.value=a[0].redirect_url)}catch(e){console.error("Error fetching streams:",e)}},S=()=>{localStorage.setItem("streamSearchQuery",d.value),h.value&&(_.value=!1)},O=v(()=>{const e=d.value.trim().toLowerCase();return e?Q.value.filter(a=>{var N;const i=a.title.toLowerCase().includes(e),s=((N=a.category)==null?void 0:N.toLowerCase().includes(e))||!1;return i||s}):Q.value}),re=()=>{_.value=!_.value},b=()=>{h.value=window.innerWidth<=640,h.value||(_.value=!0)};K(()=>{const e=localStorage.getItem("streamSearchQuery");e&&(d.value=e),W(),b(),window.addEventListener("resize",b),F(),V()}),K(()=>{W(),b(),window.addEventListener("resize",b),F(),V(),$(),Le($,1e3);const e=localStorage.getItem("selectedArticle");e&&(te.value=JSON.parse(e),U.value="Detailed Article")}),ve(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",b)});const Q=v(()=>A.value.slice().sort((e,a)=>{const i=new Date(e.created_at),s=new Date(a.created_at);return i-s})),u=n(1),C=v(()=>Math.ceil(O.value.length/P));me(d,e=>{e.trim()&&(u.value=1)});const le=v(()=>{const e=(u.value-1)*P,a=e+P;return O.value.slice(e,a)}),ce=()=>{u.value<C.value&&u.value++},ie=()=>{u.value>1&&u.value--},ue=e=>{Y.push(`/watch/${e}`)};return(e,a)=>{const i=be;return o(),r("div",Ne,[t("header",null,[t("div",Te,[a[2]||(a[2]=t("h1",{class:"logo"},[t("img",{src:he,alt:"RacingStation Logo",class:"logo-image"}),L(" RacingStation ")],-1)),t("div",De,[t("button",{onClick:ae,class:"icon-button"},[w.value?(o(),M(c(ke),{key:0})):(o(),M(c(we),{key:1}))]),t("button",{onClick:R,class:"icon-button menu-toggle"},[k.value?(o(),M(c(X),{key:1})):(o(),M(c(ye),{key:0}))]),t("nav",Ie,[t("ul",null,[(o(),r(T,null,D(z,s=>t("li",{key:s},[l(i,{to:B(s),class:"no-active-link"},{default:I(()=>[L(m(s),1)]),_:2},1032,["to"])])),64))])])])])]),g.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:ee})):p("",!0),l(pe,{name:"slide"},{default:I(()=>[k.value?(o(),r("nav",xe,[t("div",Ee,[t("button",{onClick:R,class:"icon-button close-menu"},[l(c(X))]),t("ul",null,[(o(),r(T,null,D(z,s=>t("li",{key:s},[l(i,{to:B(s),class:"no-active-link",onClick:R},{default:I(()=>[L(m(s),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),t("main",null,[a[5]||(a[5]=t("div",{class:"adsterra-container"},[t("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),U.value==="Latest News"?(o(),r("div",Pe,[t("div",Ve,[a[3]||(a[3]=t("h2",{class:"font-sans font-normal"},"Live Sports",-1)),h.value?p("",!0):(o(),r("div",We,[t("form",{onSubmit:q(S,["prevent"]),class:"search-form"},[x(t("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(S,["enter"])},null,544),[[G,d.value]]),t("button",$e,[l(c(E),{class:"search-icon"})])],32)])),x(t("button",{onClick:re,class:"mobile-search-icon"},[l(c(E),{class:"search-icon"})],512),[[ge,h.value]])]),h.value?(o(),r("div",{key:0,class:fe(["search-container mobile-search",{"mobile-search-active":_.value}])},[t("form",{onSubmit:q(S,["prevent"]),class:"search-form"},[x(t("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(S,["enter"])},null,544),[[G,d.value]]),t("button",Ue,[l(c(E),{class:"search-icon"})])],32)],2)):p("",!0),t("div",ze,[(o(!0),r(T,null,D(le.value,s=>(o(),r("article",{key:s.slug,class:"stream-card",onClick:N=>ue(s.slug)},[t("div",je,[s.image_path?(o(),r("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,Fe)):(o(),r("p",Oe,"Image not available"))]),t("div",Qe,[t("span",Ke,m(s.category),1),t("h3",null,m(s.title),1),t("p",null,m(s.excerpt),1),t("div",qe,[t("span",Ge,[a[4]||(a[4]=L(" Watch stream ")),l(c(Ae))])])])],8,Be))),128))]),C.value>1?(o(),r("div",Je,[t("button",{onClick:ie,disabled:u.value===1,class:"pagination-button"},[l(c(Me))],8,Xe),t("span",He,"Page "+m(u.value)+" of "+m(C.value),1),t("button",{onClick:ce,disabled:u.value===C.value,class:"pagination-button"},[l(c(Re))],8,Ye)])):p("",!0)])):p("",!0),a[6]||(a[6]=t("div",{class:"adsterra-container"},null,-1))]),l(Se)])}}};export{rt as default};
