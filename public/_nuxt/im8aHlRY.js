import{_ as p,b as g,d as t,g as v,p as f,m as l,v as n,H as m,A as b,u,s as k,x as y}from"./YPyMNa1S.js";import{u as P}from"./Do9fDBrI.js";import{_ as c}from"./CcRxNZ6W.js";const F={data(){return{stream:{image:null,title:"",category:"",event:"",excerpt:"",link:"",link2:"",link3:"",link4:"",content:"",session_name:"",scheduled_enable_time:null,scheduled_disable_time:null}}},setup(){const a=k();return P({title:"Tambah Data Stream",ogTitle:"Tambah Data Stream"}),{navigateToArtikel:()=>{a.push("/rikya/components/Livestream")},router:a}},methods:{async handleImageUpload(a){const{API_URL:e}=u().public,r=a.target.files[0];if(r&&r.type==="image/png"){const i=new FormData;i.append("image",r);try{const d=await(await fetch(`${e}/upload-image`,{method:"POST",body:i})).json();d.success?this.stream.image=d.imagePath:alert("Failed to upload image.")}catch(s){console.error("Error uploading image:",s),alert("Error uploading image.")}}else alert("Please upload a PNG file."),a.target.value=""},async submitStream(){const{API_URL:a}=u().public;try{const e={title:this.stream.title,category:this.stream.category,event:this.stream.event,excerpt:this.stream.excerpt,link:this.stream.link,link2:this.stream.link2,link3:this.stream.link3,link4:this.stream.link4,content:this.stream.content,session_name:this.stream.session_name,scheduled_enable_time:this.stream.scheduled_enable_time,scheduled_disable_time:this.stream.scheduled_disable_time,imagePath:this.stream.image},r=await fetch(`${a}/streams`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await r.json();console.log("Response status:",r.status),console.log("Result:",i),r.ok?(alert("Stream submitted successfully!"),this.router.push("/rikya/components/Livestream"),this.resetForm()):(console.error("Error submitting stream:",i.error||i.message),alert("Error submitting stream: "+(i.error||i.message)))}catch(e){console.error("Error submitting stream:",e),alert("Error submitting stream.")}},resetForm(){this.stream={image:null,title:"",category:"",excerpt:"",link:"",link2:"",link3:"",link4:"",content:"",session_name:"",status:""}}}},x={class:"app-wrapper"},S={class:"header-content"},T={class:"dashboard"},M={class:"form-container"},U={class:"form-group"},V={class:"form-group"},G={class:"form-group"},L={class:"form-group"},R={class:"form-group"},E={class:"form-group"},w={class:"form-group"},A={class:"form-group"},_={class:"form-group"},q={class:"form-group"},C={class:"form-group"},D={class:"form-group"},B={class:"form-group"},I={class:"buttons-container"};function h(a,e,r,i,s,d){return y(),g("div",x,[t("header",null,[t("header",null,[t("div",S,[t("h1",{class:"logo",onClick:e[0]||(e[0]=(...o)=>i.navigateToArtikel&&i.navigateToArtikel(...o)),style:{cursor:"pointer"}},e[16]||(e[16]=[t("img",{src:c,alt:"RacingStation Logo",class:"logo-image"},null,-1),v(" Dashboard ")]))])])]),t("div",T,[e[35]||(e[35]=t("h1",{class:"black-text"},"Add Live stream",-1)),t("div",M,[t("form",{onSubmit:e[15]||(e[15]=f((...o)=>d.submitStream&&d.submitStream(...o),["prevent"]))},[t("div",U,[e[17]||(e[17]=t("label",{for:"image"},"Upload PNG Image:",-1)),t("input",{type:"file",id:"image",accept:".png",onChange:e[1]||(e[1]=(...o)=>d.handleImageUpload&&d.handleImageUpload(...o)),required:""},null,32)]),t("div",V,[e[18]||(e[18]=t("label",{for:"title"},"Title",-1)),l(t("input",{type:"text",id:"title","onUpdate:modelValue":e[2]||(e[2]=o=>s.stream.title=o),required:""},null,512),[[n,s.stream.title]])]),t("div",G,[e[20]||(e[20]=t("label",{for:"category"},"Category:",-1)),l(t("select",{id:"category","onUpdate:modelValue":e[3]||(e[3]=o=>s.stream.category=o),required:""},e[19]||(e[19]=[t("option",{value:"Motorsport"},"Motorsport",-1),t("option",{value:"Football"},"Football",-1),t("option",{value:"Basketball"},"Basketball",-1)]),512),[[m,s.stream.category]])]),t("div",L,[e[21]||(e[21]=t("label",{for:"title"},"Live Event",-1)),l(t("input",{type:"text",id:"event","onUpdate:modelValue":e[4]||(e[4]=o=>s.stream.event=o),required:""},null,512),[[n,s.stream.event]])]),t("div",R,[e[22]||(e[22]=t("label",{for:"excerpt"},"Excerpt",-1)),l(t("input",{type:"text",id:"excerpt","onUpdate:modelValue":e[5]||(e[5]=o=>s.stream.excerpt=o),required:""},null,512),[[n,s.stream.excerpt]])]),t("div",E,[e[23]||(e[23]=t("label",{for:"link"},"Link 1",-1)),l(t("input",{type:"text",id:"link","onUpdate:modelValue":e[6]||(e[6]=o=>s.stream.link=o),required:""},null,512),[[n,s.stream.link]])]),t("div",w,[e[24]||(e[24]=t("label",{for:"link"},"Link 2",-1)),l(t("input",{type:"text",id:"link","onUpdate:modelValue":e[7]||(e[7]=o=>s.stream.link2=o)},null,512),[[n,s.stream.link2]])]),t("div",A,[e[25]||(e[25]=t("label",{for:"link"},"Link 3",-1)),l(t("input",{type:"text",id:"link","onUpdate:modelValue":e[8]||(e[8]=o=>s.stream.link3=o)},null,512),[[n,s.stream.link3]])]),t("div",_,[e[26]||(e[26]=t("label",{for:"link"},"Link 4",-1)),l(t("input",{type:"text",id:"link","onUpdate:modelValue":e[9]||(e[9]=o=>s.stream.link4=o)},null,512),[[n,s.stream.link4]])]),t("div",q,[e[28]||(e[28]=t("label",{for:"session_name"},"Pilih sesi",-1)),l(t("select",{id:"session_name","onUpdate:modelValue":e[10]||(e[10]=o=>s.stream.session_name=o),required:""},e[27]||(e[27]=[b('<option value="Free Practice 1 F1" data-v-99fad16e>FP1 (F1)</option><option value="Free Practice 2 F1" data-v-99fad16e>FP2 (F1)</option><option value="Free Practice 3 F1" data-v-99fad16e>FP3 (F1)</option><option value="Qualifying F1" data-v-99fad16e>Qualifying (F1)</option><option value="Spint Race F1" data-v-99fad16e>Sprint (F1)</option><option value="Race F1" data-v-99fad16e>Race (F1)</option><option value="Free Practice 1 MotoGP" data-v-99fad16e>FP3 (MotoGP)</option><option value="Practice MotoGP" data-v-99fad16e>Practice (MotoGP)</option><option value="Free Practice 2 MotoGP" data-v-99fad16e>FP2 (MotoGP)</option><option value="Qualifying MotoGP" data-v-99fad16e>Qualifying (MotoGP)</option><option value="Spint Race MotoGP" data-v-99fad16e>Sprint (MotoGP)</option><option value="Race MotoGP" data-v-99fad16e>Race (MotoGP)</option>',12)]),512),[[m,s.stream.session_name]])]),t("div",C,[e[29]||(e[29]=t("label",{for:"content"},"Content",-1)),l(t("textarea",{id:"content","onUpdate:modelValue":e[11]||(e[11]=o=>s.stream.content=o),required:""},null,512),[[n,s.stream.content]])]),t("div",D,[e[30]||(e[30]=t("label",{for:"scheduledEnableTime"},"Jadwal Start Live (opsional)",-1)),l(t("input",{type:"datetime-local",id:"scheduledEnableTime","onUpdate:modelValue":e[12]||(e[12]=o=>s.stream.scheduled_enable_time=o)},null,512),[[n,s.stream.scheduled_enable_time]]),e[31]||(e[31]=t("small",null,"Biarkan kosong untuk status disable",-1))]),t("div",B,[e[32]||(e[32]=t("label",{for:"scheduledDisableTime"},"Jadwal End Live (opsional)",-1)),l(t("input",{type:"datetime-local",id:"scheduledDisableTime","onUpdate:modelValue":e[13]||(e[13]=o=>s.stream.scheduled_disable_time=o)},null,512),[[n,s.stream.scheduled_disable_time]]),e[33]||(e[33]=t("small",null,"Biarkan kosong untuk status disable",-1))]),t("div",I,[e[34]||(e[34]=t("button",{type:"submit",class:"action-btn update-btn"},"Submit Stream",-1)),t("button",{type:"button",onClick:e[14]||(e[14]=(...o)=>i.navigateToArtikel&&i.navigateToArtikel(...o)),class:"action-btn cancel-btn"},"Cancel")])],32)])])])}const J=p(F,[["render",h],["__scopeId","data-v-99fad16e"]]);export{J as default};
