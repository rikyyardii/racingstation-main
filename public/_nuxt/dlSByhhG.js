import{_ as C,r as m,c as x,a as t,d as U,q as p,F as S,s as q,A as V,B as i,C as l,z as h,D as f,o as s,y as E,t as P}from"./NOtjPhkj.js";import{_}from"./DDHPc_ep.js";const B={setup(){const c=h(),e=m(!1),g=m(!0),o=m("Home"),T=["Home","Artikel","Live Stream","Logout"],n=m({image:null,category:"",title:"",excerpt:"",date:"",author:"",readingTime:"",content:""}),v=()=>{c.push("/Artikel")},y=()=>{g.value=!g.value},b=()=>{e.value=!e.value},k=d=>{o.value=d},r=async d=>{const u=d.target.files[0];if(u&&u.type==="image/png"){const a=new FormData;a.append("image",u);const w=`${window.location.origin.replace(window.location.port,"5000")}`;try{const D=await(await fetch(`${w}/api/upload-image`,{method:"POST",body:a})).json();D.success?n.value.image=D.imagePath:alert("Failed to upload image.")}catch(A){console.error("Error uploading image:",A),alert("Error uploading image.")}}else alert("Please upload a PNG file."),d.target.value=""},M=async()=>{const u=(()=>{const a=new URL(window.location.href);return a.port="5000",a.origin})();try{const a=await fetch(`${u}/api/articles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n.value.category,title:n.value.title,excerpt:n.value.excerpt,date:n.value.date,author:n.value.author,readingTime:n.value.readingTime,content:n.value.content,imagePath:n.value.image})}),w=await a.json();a.ok?(alert("Article submitted successfully!"),c.push("Home"),I()):alert("Error submitting article: "+w.error)}catch(a){console.error("Error submitting article:",a),alert("Error submitting article.")}},I=()=>{n.value={image:null,category:"",title:"",excerpt:"",date:"",author:"",readingTime:"",content:""}};return{isMenuOpen:e,isDarkMode:g,currentView:o,menuItems:T,article:n,navigateToArtikel:v,toggleDarkMode:y,toggleMenu:b,selectView:k,handleImageUpload:r,submitArticle:M,resetForm:I,router:c}}},F={class:"app-wrapper"},H={class:"header-content"},L={class:"header-controls"},N={class:"desktop-nav"},O=["onClick"],R={class:"dashboard"},j={class:"form-container"},z={class:"form-group"},G={class:"form-group"},X={class:"form-group"},J={class:"form-group"},K={class:"form-group"},Q={class:"form-group"},W={class:"form-group"},Y={class:"form-group"};function Z(c,e,g,o,T,n){const v=f("SunIcon"),y=f("MoonIcon"),b=f("MenuIcon"),k=f("XIcon");return s(),x("div",F,[t("header",null,[t("header",null,[t("div",H,[t("h1",{class:"logo",onClick:e[0]||(e[0]=(...r)=>o.navigateToArtikel&&o.navigateToArtikel(...r)),style:{cursor:"pointer"}},e[12]||(e[12]=[t("img",{src:_,alt:"RacingStation Logo",class:"logo-image"},null,-1),U(" Dashboard ")])),t("div",L,[t("button",{onClick:e[1]||(e[1]=(...r)=>o.toggleDarkMode&&o.toggleDarkMode(...r)),class:"icon-button"},[o.isDarkMode?(s(),p(v,{key:0})):(s(),p(y,{key:1}))]),t("button",{onClick:e[2]||(e[2]=(...r)=>o.toggleMenu&&o.toggleMenu(...r)),class:"icon-button menu-toggle"},[o.isMenuOpen?(s(),p(k,{key:1})):(s(),p(b,{key:0}))]),t("nav",N,[t("ul",null,[(s(!0),x(S,null,q(o.menuItems,r=>(s(),x("li",{key:r},[t("a",{href:"#",onClick:V(M=>o.selectView(r),["prevent"]),class:E({active:o.currentView===r})},P(r),11,O)]))),128))])])])])])]),t("div",R,[e[22]||(e[22]=t("h1",null,"Add Articles",-1)),t("div",j,[t("form",{onSubmit:e[11]||(e[11]=V((...r)=>o.submitArticle&&o.submitArticle(...r),["prevent"]))},[t("div",z,[e[13]||(e[13]=t("label",{for:"image"},"Upload PNG Image:",-1)),t("input",{type:"file",id:"image",accept:".png",onChange:e[3]||(e[3]=(...r)=>o.handleImageUpload&&o.handleImageUpload(...r)),required:""},null,32)]),t("div",G,[e[14]||(e[14]=t("label",{for:"category"},"Category:",-1)),i(t("input",{type:"text",id:"category","onUpdate:modelValue":e[4]||(e[4]=r=>o.article.category=r),required:""},null,512),[[l,o.article.category]])]),t("div",X,[e[15]||(e[15]=t("label",{for:"title"},"Title:",-1)),i(t("input",{type:"text",id:"title","onUpdate:modelValue":e[5]||(e[5]=r=>o.article.title=r),required:""},null,512),[[l,o.article.title]])]),t("div",J,[e[16]||(e[16]=t("label",{for:"title"},"Excerpt",-1)),i(t("input",{type:"text",id:"excerpt","onUpdate:modelValue":e[6]||(e[6]=r=>o.article.excerpt=r),required:""},null,512),[[l,o.article.excerpt]])]),t("div",K,[e[17]||(e[17]=t("label",{for:"date"},"Date:",-1)),i(t("input",{type:"date",id:"date","onUpdate:modelValue":e[7]||(e[7]=r=>o.article.date=r),required:""},null,512),[[l,o.article.date]])]),t("div",Q,[e[18]||(e[18]=t("label",{for:"author"},"Author:",-1)),i(t("input",{type:"text",id:"author","onUpdate:modelValue":e[8]||(e[8]=r=>o.article.author=r),required:""},null,512),[[l,o.article.author]])]),t("div",W,[e[19]||(e[19]=t("label",{for:"readingTime"},"Reading Time (min):",-1)),i(t("input",{type:"number",id:"readingTime","onUpdate:modelValue":e[9]||(e[9]=r=>o.article.readingTime=r),required:""},null,512),[[l,o.article.readingTime]])]),t("div",Y,[e[20]||(e[20]=t("label",{for:"content"},"Content:",-1)),i(t("textarea",{id:"content","onUpdate:modelValue":e[10]||(e[10]=r=>o.article.content=r),required:""},null,512),[[l,o.article.content]])]),e[21]||(e[21]=t("button",{type:"submit"},"Submit Article",-1))],32)])])])}const te=C(B,[["render",Z],["__scopeId","data-v-2eabaf9d"]]);export{te as default};
