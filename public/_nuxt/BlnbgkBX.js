import{r as a,u as j,m as q,n as G,p as O,c as i,a as t,d as D,q as _,s as n,F as T,v as R,b as l,w as X,T as J,x as N,t as r,y as K,o as c,z as $}from"./CbLDumkK.js";import{_ as Q}from"./BI0tDeHe.js";import{c as p,S as Y,M as Z,a as tt,X as B,F as et}from"./BFv-caX_.js";import{A as st}from"./CUUP7xKb.js";import{s as at}from"./Rl4rGLDE.js";import{C as nt}from"./BIV_TNNZ.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=p("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=p("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=p("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),rt={class:"app"},it={class:"header-content"},ut={class:"header-controls"},dt={class:"desktop-nav"},ht=["href"],_t={key:0,class:"mobile-nav"},mt={class:"mobile-nav-content"},vt=["href"],pt={class:"article-container"},kt={class:"back-nav"},gt={href:"/",class:"back-link"},yt={class:"hero-image"},ft=["src","alt"],bt={class:"article-content"},wt={class:"category"},Mt={class:"title"},Ct={class:"metadata"},Lt={class:"metadata-item"},At={class:"metadata-item"},xt={class:"metadata-item"},It=["innerHTML"],Ut={__name:"[id]",async setup(St){let k,g;const U=K(),y=a(null),m=a(null),f=a(null),b=a(null),w=a(null),v=a(null),u=a(null),V=a(""),d=a(!1),h=a(!0),M=["Latest News","Watch Sports"],C=a("Detailed Article"),W=s=>{const o={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("en-US",o)},{API_URL:F,IMAGE_URL:L}=j().public,H=async s=>{const o=await fetch(`${F}/articles/${s}`);if(o.ok){const e=await o.json();y.value=e.category,m.value=e.title,f.value=W(e.date),b.value=e.author,w.value=e.reading_time,v.value=e.content,u.value=A(e.image_path),console.log(u.value)}else console.error("Artikel tidak ditemukan")},A=s=>s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("/public/img/")?`${L}${s}`:`${L}/public/img/${s}`,z=U.params.id;[k,g]=q(()=>H(z)),await k,g();const x=()=>{const s=new Date;V.value=s.toLocaleTimeString()},I=()=>{d.value=!d.value},E=()=>{h.value=!h.value,document.body.classList.toggle("light-mode",!h.value)},S=s=>{switch(s){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},P=G(()=>v.value?v.value.replace(/\n/g,"<br>"):"");return O(()=>{x(),at(x,1e3)}),(s,o)=>(c(),i("div",rt,[t("header",null,[t("div",it,[o[0]||(o[0]=t("h1",{class:"logo"},[t("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),D(" RacingStation ")],-1)),t("div",ut,[t("button",{onClick:E,class:"icon-button"},[h.value?(c(),_(n(Y),{key:0})):(c(),_(n(Z),{key:1}))]),t("button",{onClick:I,class:"icon-button menu-toggle"},[d.value?(c(),_(n(B),{key:1})):(c(),_(n(tt),{key:0}))]),t("nav",dt,[t("ul",null,[(c(),i(T,null,R(M,e=>t("li",{key:e},[t("a",{href:S(e),class:$({active:C.value===e})},r(e),11,ht)])),64))])])])])]),l(J,{name:"slide"},{default:X(()=>[d.value?(c(),i("nav",_t,[t("div",mt,[t("button",{onClick:I,class:"icon-button close-menu"},[l(n(B))]),t("ul",null,[(c(),i(T,null,R(M,e=>t("li",{key:e},[t("a",{href:S(e),class:$({active:C.value===e})},r(e),11,vt)])),64))])])])):N("",!0)]),_:1}),t("main",null,[l(st),t("article",pt,[t("nav",kt,[t("a",gt,[l(n(ot),{class:"icon"}),o[1]||(o[1]=D(" Back to Articles "))])]),t("div",yt,[u.value?(c(),i("img",{key:0,src:A(u.value),alt:m.value},null,8,ft)):N("",!0)]),t("div",bt,[t("h1",wt,r(y.value),1),t("h1",Mt,r(m.value),1),t("div",Ct,[t("div",Lt,[l(n(ct),{class:"icon"}),t("span",null,r(f.value),1)]),t("div",At,[l(n(lt),{class:"icon"}),t("span",null,r(b.value),1)]),t("div",xt,[l(n(nt),{class:"icon"}),t("span",null,r(w.value)+" min read",1)])]),t("p",{class:"content",innerHTML:n(P)},null,8,It)])])]),l(et)]))}};export{Ut as default};
