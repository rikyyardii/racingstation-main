import{r,k as ce,l as m,m as U,v as ie,x as le,c,a as e,_ as ue,b as w,d as C,u as i,F as A,e as R,f as l,w as T,T as de,y as F,z as D,A as Q,G as K,g as f,B as me,n as ve,t as v,q as he,o,h as pe}from"./-H9k7hHH.js";import{S as ge,M as fe,a as _e,X as q,F as be}from"./CMRVTQ3z.js";import{u as Se}from"./CisZnfUO.js";import{s as ye}from"./ZRmVwG7s.js";import{S as E,A as ke,C as we,a as Ce}from"./CrKLLzTM.js";const Le={class:"app"},Me={class:"header-content"},xe={class:"header-controls"},Ae={class:"desktop-nav"},Re={key:0,class:"mobile-nav"},Te={class:"mobile-nav-content"},De={key:0,class:"articles-section"},Ee={class:"stream-header"},Ie={key:0,class:"search-container"},Ne={type:"submit",class:"search-button"},Pe={type:"submit",class:"search-button"},Ve={class:"stream-grid"},We=["onClick"],je={class:"stream-image-container"},$e=["src","alt"],Be={key:1},ze={class:"stream-content"},Ue={class:"stream-category"},Fe={class:"stream-footer"},Qe={class:"read-more"},Ke={key:1,class:"pagination"},qe=["disabled"],Ge={class:"pagination-info"},Oe=["disabled"],I=6,tt={__name:"stream",setup(Je){const G=r(""),O=he(),J=r(""),N=()=>{const t=document.createElement("script");t.type="text/javascript",t.src="//diarrhoeaeaglesunday.com/9a/93/8f/9a938f6b55ab5706039a1d17d3b9da4b.js",document.head.appendChild(t);const s=document.createElement("script");s.src="https://diarrhoeaeaglesunday.com/vxv0tjsb?key=7359390460eb0e7e34eba7b62f51752a",document.head.appendChild(s);const n=document.createElement("script");n.async=!0,n.setAttribute("data-cfasync","false"),n.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(n);const a=document.createElement("script");a.type="text/javascript",a.src="//pl26357408.profitableratecpm.com/b2/4b/1a/b24b1aeeaf743580d98186fc713b7de3.js",document.head.appendChild(a)},P=()=>{const t=new Date;G.value=t.toLocaleTimeString()},X=r(null),_=r(!1),b=r(!0),V=r("Latest News");r(!1),r(""),r("");const d=r(""),h=r(!1),p=r(!1),W=["Latest News","Watch Sports"],j=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},L=()=>{_.value=!_.value},H=()=>{b.value=!b.value,document.body.classList.toggle("light-mode",!b.value)},M=r([]),{API_URL:Y,IMAGE_URL:S}=ce().public,Z=m(()=>"RacingStation Stream"),ee=m(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),te=m(()=>`${S.startsWith("http")?S:`https://${S}`}/public/img/racingstation-stream.png`);Se({title:Z,ogTitle:"RacingStation Stream",description:ee,ogDescription:"Watch live streaming of your favorite events.",ogImage:te,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const $=async()=>{try{const t=await fetch(`${Y}/streams_card`);if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();M.value=s.map(n=>(M.value.length===0&&(J.value=n.title),{...n,image_path:`${S}${n.image_path}`}))}catch(t){console.error("Error fetching streams:",t)}},y=()=>{localStorage.setItem("streamSearchQuery",d.value),h.value&&(p.value=!1)},B=m(()=>{const t=d.value.trim().toLowerCase();return t?z.value.filter(s=>{var x;const n=s.title.toLowerCase().includes(t),a=((x=s.category)==null?void 0:x.toLowerCase().includes(t))||!1;return n||a}):z.value}),ae=()=>{p.value=!p.value},g=()=>{h.value=window.innerWidth<=640,h.value||(p.value=!0)};U(()=>{const t=localStorage.getItem("streamSearchQuery");t&&(d.value=t),N(),g(),window.addEventListener("resize",g),$()}),U(()=>{N(),g(),window.addEventListener("resize",g),$(),P(),ye(P,1e3);const t=localStorage.getItem("selectedArticle");t&&(X.value=JSON.parse(t),V.value="Detailed Article")}),ie(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",g)});const z=m(()=>M.value.slice().sort((t,s)=>{const n=new Date(t.created_at),a=new Date(s.created_at);return n-a})),u=r(1),k=m(()=>Math.ceil(B.value.length/I));le(d,t=>{t.trim()&&(u.value=1)});const se=m(()=>{const t=(u.value-1)*I,s=t+I;return B.value.slice(t,s)}),oe=()=>{u.value<k.value&&u.value++},ne=()=>{u.value>1&&u.value--},re=t=>{O.push(`/watch/${t}`)};return(t,s)=>{const n=pe;return o(),c("div",Le,[e("header",null,[e("div",Me,[s[2]||(s[2]=e("h1",{class:"logo"},[e("img",{src:ue,alt:"RacingStation Logo",class:"logo-image"}),w(" RacingStation ")],-1)),e("div",xe,[e("button",{onClick:H,class:"icon-button"},[b.value?(o(),C(i(ge),{key:0})):(o(),C(i(fe),{key:1}))]),e("button",{onClick:L,class:"icon-button menu-toggle"},[_.value?(o(),C(i(q),{key:1})):(o(),C(i(_e),{key:0}))]),e("nav",Ae,[e("ul",null,[(o(),c(A,null,R(W,a=>e("li",{key:a},[l(n,{to:j(a),class:"no-active-link"},{default:T(()=>[w(v(a),1)]),_:2},1032,["to"])])),64))])])])])]),l(de,{name:"slide"},{default:T(()=>[_.value?(o(),c("nav",Re,[e("div",Te,[e("button",{onClick:L,class:"icon-button close-menu"},[l(i(q))]),e("ul",null,[(o(),c(A,null,R(W,a=>e("li",{key:a},[l(n,{to:j(a),class:"no-active-link",onClick:L},{default:T(()=>[w(v(a),1)]),_:2},1032,["to"])])),64))])])])):f("",!0)]),_:1}),e("main",null,[s[5]||(s[5]=e("div",{class:"adsterra-container"},[e("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),V.value==="Latest News"?(o(),c("div",De,[e("div",Ee,[s[3]||(s[3]=e("h2",{class:"font-sans font-normal"},"Live Sports",-1)),h.value?f("",!0):(o(),c("div",Ie,[e("form",{onSubmit:F(y,["prevent"]),class:"search-form"},[D(e("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=a=>d.value=a),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:K(y,["enter"])},null,544),[[Q,d.value]]),e("button",Ne,[l(i(E),{class:"search-icon"})])],32)])),D(e("button",{onClick:ae,class:"mobile-search-icon"},[l(i(E),{class:"search-icon"})],512),[[me,h.value]])]),h.value?(o(),c("div",{key:0,class:ve(["search-container mobile-search",{"mobile-search-active":p.value}])},[e("form",{onSubmit:F(y,["prevent"]),class:"search-form"},[D(e("input",{type:"search","onUpdate:modelValue":s[1]||(s[1]=a=>d.value=a),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:K(y,["enter"])},null,544),[[Q,d.value]]),e("button",Pe,[l(i(E),{class:"search-icon"})])],32)],2)):f("",!0),e("div",Ve,[(o(!0),c(A,null,R(se.value,a=>(o(),c("article",{key:a.slug,class:"stream-card",onClick:x=>re(a.slug)},[e("div",je,[a.image_path?(o(),c("img",{key:0,src:a.image_path,alt:a.title,class:"stream-image"},null,8,$e)):(o(),c("p",Be,"Image not available"))]),e("div",ze,[e("span",Ue,v(a.category),1),e("h3",null,v(a.title),1),e("p",null,v(a.excerpt),1),e("div",Fe,[e("span",Qe,[s[4]||(s[4]=w(" Watch stream ")),l(i(ke))])])])],8,We))),128))]),k.value>1?(o(),c("div",Ke,[e("button",{onClick:ne,disabled:u.value===1,class:"pagination-button"},[l(i(we))],8,qe),e("span",Ge,"Page "+v(u.value)+" of "+v(k.value),1),e("button",{onClick:oe,disabled:u.value===k.value,class:"pagination-button"},[l(i(Ce))],8,Oe)])):f("",!0)])):f("",!0),s[6]||(s[6]=e("div",{class:"adsterra-container"},null,-1))]),l(be)])}}};export{tt as default};
