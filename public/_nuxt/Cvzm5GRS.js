import{r as a,u as B,n as R,p as V,Z as A,c as i,a as t,d as C,q as v,s as r,F as D,v as T,b as u,w as W,T as j,t as l,x as I,y as z,o as n,z as x}from"./CbLDumkK.js";import{_ as P}from"./BI0tDeHe.js";import{S as q,M as O,a as X,X as F,F as Z}from"./BFv-caX_.js";import{A as G}from"./CUUP7xKb.js";import{s as H}from"./Rl4rGLDE.js";import{C as J}from"./BIV_TNNZ.js";const Q={class:"app"},Y={class:"header-content"},ee={class:"header-controls"},te={class:"desktop-nav"},oe=["href"],se={key:0,class:"mobile-nav"},ne={class:"mobile-nav-content"},ae=["href"],le={class:"live-streaming"},re={key:0},ce={class:"video-container"},ie=["src"],ue={class:"live-commentary"},de={class:"update-info"},me={class:"time"},ve={class:"text-justify"},Se={__name:"[id]",setup(fe){const _=a(""),d=a(!1),m=a(!0),y=["Latest News","Watch Sports"],g=z().params.id||null,f=a(""),c=a(""),h=a(""),k=a(""),w=a(null);let p=null;const S=()=>{d.value=!d.value},K=()=>{m.value=!m.value,document.body.classList.toggle("light-mode",!m.value)},b=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},L=()=>{const e=new Date,s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e),o=e.getDate(),E=new Intl.DateTimeFormat("en-US",{month:"short"}).format(e),U=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(e),N=e.toLocaleTimeString("en-US",{hour12:!0});_.value=`${s}, ${o} ${E} ${U}. ${N}`},{API_URL:M}=B().public,$=async e=>{try{const s=await fetch(`${M}/streams/${e}`);if(s.ok){const o=await s.json();f.value=o.title,c.value=o.event,k.value=o.content,o.status==="enable"?h.value=o.link:h.value="/offline_screen.html"}else console.error("Stream not found")}catch(s){console.error("Error fetching stream:",s)}};return R(()=>c.value?`(${c.value})`:""),V(()=>{g?$(g):console.error("Slug is undefined"),L(),p=H(L,1e3),document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("keydown",e=>{(e.ctrlKey&&e.shiftKey&&e.code==="KeyI"||e.ctrlKey&&e.shiftKey&&e.code==="KeyC"||e.ctrlKey&&e.code==="KeyU"||e.code==="F12")&&(e.preventDefault(),e.stopPropagation())})}),A(()=>{p!==null&&clearInterval(p),document.removeEventListener("contextmenu",e=>e.preventDefault()),document.removeEventListener("keydown",e=>{})}),(e,s)=>(n(),i("div",Q,[t("header",null,[t("div",Y,[s[0]||(s[0]=t("h1",{class:"logo"},[t("img",{src:P,alt:"RacingStation Logo",class:"logo-image"}),C(" RacingStation ")],-1)),t("div",ee,[t("button",{onClick:K,class:"icon-button"},[m.value?(n(),v(r(q),{key:0})):(n(),v(r(O),{key:1}))]),t("button",{onClick:S,class:"icon-button menu-toggle"},[d.value?(n(),v(r(F),{key:1})):(n(),v(r(X),{key:0}))]),t("nav",te,[t("ul",null,[(n(),i(D,null,T(y,o=>t("li",{key:o},[t("a",{href:b(o),class:x({active:w.value===o})},l(o),11,oe)])),64))])])])])]),u(j,{name:"slide"},{default:W(()=>[d.value?(n(),i("nav",se,[t("div",ne,[t("button",{onClick:S,class:"icon-button close-menu"},[u(r(F))]),t("ul",null,[(n(),i(D,null,T(y,o=>t("li",{key:o},[t("a",{href:b(o),class:x({active:w.value===o})},l(o),11,ae)])),64))])])])):I("",!0)]),_:1}),t("main",null,[u(G),t("div",le,[t("h1",null,[C(l(f.value)+" ",1),c.value?(n(),i("span",re,"("+l(c.value)+")",1)):I("",!0)]),t("div",ce,[t("iframe",{src:h.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,ie),s[1]||(s[1]=t("div",{class:"iframe-overlay"},null,-1))]),t("div",ue,[t("div",de,[u(r(J)),t("span",me,l(_.value),1)]),t("h1",null,"What is "+l(f.value)+"?",1),t("p",ve,l(k.value),1)])])]),u(Z)]))}};export{Se as default};
