import{x as ne,r as a,l as b,k as le,p as ie,y as re,c as V,a as t,b as l,d,_ as de,e as S,u as i,w as D,n as I,P as O,A as F,T as ce,t as o,j as z,H as ue,I as A,g as ve,o as f,h as fe}from"./BOtnuwXw.js";import{S as me,M as ge,a as pe,X as W,F as ye}from"./DbcVZ9bC.js";import{u as he}from"./CnjxPKYK.js";import{s as _}from"./BqmahbZU.js";import{A as H}from"./Dd63l-Iq.js";import{C as ke}from"./D6VzHOdB.js";const be={class:"app admin"},Se={class:"header-content"},_e={class:"header-controls"},we={class:"desktop-nav"},Ce={key:0,class:"mobile-nav"},Me={class:"mobile-nav-content"},Te={class:"home-view section"},Le={class:"dashboard-container"},$e={class:"dashboard-grid"},De={class:"stats-column"},Ie={class:"stat-value"},Ae={class:"stat-value"},He={class:"stat-value"},Re={class:"stat-card"},je={class:"stat-value"},Ee={class:"stat-description"},xe={class:"date-column"},Ue={class:"date-time-card"},Be={class:"date-value"},Ge={class:"time-value"},Ne={class:"day-value"},Pe={class:"dino-game-container"},Ve={class:"game-score"},Oe={__name:"Home",setup(Fe){const R=a(0),j=a(0),E=a(0),p=a(!1),y=a(!0),x=a(!1),n=a(new Date),c=a({rss:"0 MB",heapTotal:"0 MB",heapUsed:"0 MB",external:"0 MB"}),Y=a(null),m=a(!1),r=a(300),w=a(2),h=a(0),C=a(0),g=a(!1);let M=null,T=null,k=null;const J=b(()=>{const s=n.value.getDate(),e=n.value.toLocaleString("en-US",{month:"long"}),v=n.value.getFullYear();return`${s} ${e} ${v}`}),K=b(()=>{const s={weekday:"long"};return n.value.toLocaleDateString(void 0,s)}),X=b(()=>{const s=n.value.getHours().toString().padStart(2,"0"),e=n.value.getMinutes().toString().padStart(2,"0"),v=n.value.getSeconds().toString().padStart(2,"0");return`${s}:${e}:${v}`}),q=b(()=>{const s=n.value.getHours();return s>=5&&s<12?"Good morning":s>=12&&s<18?"Good afternoon":"Good evening"}),Q=()=>{M=_(()=>{r.value-=w.value,r.value<=-20&&(r.value=300,w.value+=.05),r.value<=50&&r.value>=30&&!m.value&&!g.value&&(g.value=!0,h.value>C.value&&(C.value=h.value),setTimeout(()=>{r.value=300,w.value=2,g.value=!1},500))},20),k||(k=_(()=>{g.value||(h.value+=1)},100))},Z=()=>{!m.value&&!g.value&&(m.value=!0,T=setTimeout(()=>{m.value=!1},600))},U=s=>{(s.code==="Space"||s.key===" ")&&(s.preventDefault(),Z())},B=()=>{n.value=new Date},L=()=>{window.innerWidth<=768&&(p.value=!p.value)},ee=()=>{y.value=!y.value,document.body.classList.toggle("light-mode",!y.value)},{API_URL:u}=le().public,$=s=>{A(s)},G=async()=>{try{const e=await(await fetch(`${u}/logout`,{method:"POST",credentials:"include"})).json();e.success?A("/rikya"):console.error("Logout failed:",e.message)}catch(s){console.error("An error occurred while logging out:",s)}},te=async()=>{try{const e=await(await fetch(`${u}/check-session`,{method:"GET",credentials:"include"})).json();x.value=e.isLoggedIn,e.isLoggedIn||(alert("Sudah logout, silahkan Login dulu!!"),A("/rikya"))}catch(s){console.error("Error checking session:",s),x.value=!1}},se=async()=>{try{const e=await(await fetch(`${u}/articles_count`)).json();R.value=e.totalArticles}catch(s){console.error("Error fetching article count:",s)}},ae=async()=>{try{const e=await(await fetch(`${u}/streams_count`)).json();j.value=e.totalStream}catch(s){console.error("Error fetching stream count:",s)}},oe=async()=>{try{const e=await(await fetch(`${u}/adslink_count`)).json();E.value=e.totalAdslink}catch(s){console.error("Error fetching adslink count:",s)}},N=async()=>{try{const e=await(await fetch(`${u}/memory-usage`)).json();c.value=e}catch(s){console.error("Error fetching memory usage:",s)}};return he({title:"RacingStation Dashboard",ogTitle:"RacingStation Dashboard"}),ie(()=>{te(),se(),ae(),oe(),N(),_(N,5e3),B(),_(B,1e3),Q(),document.addEventListener("keydown",U)}),re(()=>{M&&clearInterval(M),T&&clearTimeout(T),k&&clearInterval(k),document.removeEventListener("keydown",U)}),(s,e)=>{const v=ve;return f(),V("div",be,[t("header",null,[t("div",Se,[e[4]||(e[4]=t("h1",{class:"logo"},[t("img",{src:de,alt:"RacingStation Logo",class:"logo-image"}),d(" Dashboard ")],-1)),t("div",_e,[t("button",{onClick:ee,class:"icon-button"},[y.value?(f(),S(i(me),{key:0})):(f(),S(i(ge),{key:1}))]),t("button",{onClick:L,class:"icon-button menu-toggle"},[p.value?(f(),S(i(W),{key:1})):(f(),S(i(pe),{key:0}))]),t("nav",we,[t("ul",null,[t("li",null,[l(v,{to:"#",class:I({active:(s._.provides[O]||s.$route).path==="/rikya"})},{default:D(()=>e[3]||(e[3]=[d(" Home ")])),_:1},8,["class"])]),t("li",null,[t("a",{href:"#",onClick:F(G,["prevent"])},"Logout")])])])])])]),l(ce,{name:"slide"},{default:D(()=>[p.value?(f(),V("nav",Ce,[t("div",Me,[t("button",{onClick:L,class:"icon-button close-menu"},[l(i(W))]),t("ul",null,[t("li",null,[l(v,{to:"/rikya/components",onClick:L,class:I({active:(s._.provides[O]||s.$route).path==="/rikya"})},{default:D(()=>e[5]||(e[5]=[d(" Home ")])),_:1},8,["class"])]),t("li",null,[t("a",{href:"#",onClick:F(G,["prevent"])},"Logout")])])])])):fe("",!0)]),_:1}),t("div",Te,[t("div",Le,[t("div",$e,[t("div",De,[t("div",{class:"stat-card clickable",onClick:e[0]||(e[0]=P=>$("/rikya/components/artikel"))},[e[6]||(e[6]=t("h3",null,"Total Articles",-1)),t("div",Ie,o(R.value),1),e[7]||(e[7]=t("p",{class:"stat-description"},"Published articles on your platform",-1)),l(i(H),{class:"card-arrow"})]),t("div",{class:"stat-card clickable",onClick:e[1]||(e[1]=P=>$("/rikya/components/livestream"))},[e[8]||(e[8]=t("h3",null,"Total Streams",-1)),t("div",Ae,o(j.value),1),e[9]||(e[9]=t("p",{class:"stat-description"},"Currently live streams",-1)),l(i(H),{class:"card-arrow"})]),t("div",{class:"stat-card clickable",onClick:e[2]||(e[2]=P=>$("/rikya/components/ads"))},[e[10]||(e[10]=t("h3",null,"Ads Direct Link",-1)),t("div",He,o(E.value),1),e[11]||(e[11]=t("p",{class:"stat-description"},"Currently place on website",-1)),l(i(H),{class:"card-arrow"})]),t("div",Re,[e[15]||(e[15]=t("h3",null,"Nuxt Memory Usage",-1)),t("div",je,o(c.value.rss),1),t("p",Ee,[d(" RSS: "+o(c.value.rss)+" ",1),e[12]||(e[12]=t("br",null,null,-1)),d(" Heap Total: "+o(c.value.heapTotal)+" ",1),e[13]||(e[13]=t("br",null,null,-1)),d(" Heap Used: "+o(c.value.heapUsed)+" ",1),e[14]||(e[14]=t("br",null,null,-1)),d(" External: "+o(c.value.external),1)])])]),t("div",xe,[t("div",Ue,[t("h3",null,o(q.value)+", Riky.",1),t("div",Be,o(J.value),1),t("div",Ge,o(X.value),1),t("div",Ne,o(K.value),1),t("div",Pe,[t("div",{class:"dino-game",ref_key:"dinoGameRef",ref:Y},[t("div",Ve,[t("span",null,"HI "+o(String(C.value).padStart(5,"0")),1),t("span",null,o(String(h.value).padStart(5,"0")),1)]),e[18]||(e[18]=z('<div class="stars" data-v-deffa98b><div class="star" style="left:10%;top:15%;" data-v-deffa98b></div><div class="star" style="left:25%;top:25%;" data-v-deffa98b></div><div class="star" style="left:45%;top:10%;" data-v-deffa98b></div><div class="star" style="left:65%;top:20%;" data-v-deffa98b></div><div class="star" style="left:80%;top:15%;" data-v-deffa98b></div><div class="star" style="left:90%;top:30%;" data-v-deffa98b></div></div><div class="moon" data-v-deffa98b></div>',2)),t("div",{class:I(["dino-character",{jump:m.value}])},e[16]||(e[16]=[z('<div class="dino-body" data-v-deffa98b></div><div class="dino-head" data-v-deffa98b></div><div class="dino-eye" data-v-deffa98b></div><div class="dino-leg1" data-v-deffa98b></div><div class="dino-leg2" data-v-deffa98b></div><div class="dino-arm" data-v-deffa98b></div><div class="dino-tail" data-v-deffa98b></div>',7)]),2),t("div",{class:"cactus",style:ue({left:r.value+"px"})},e[17]||(e[17]=[t("div",{class:"cactus-body"},null,-1),t("div",{class:"cactus-arm1"},null,-1),t("div",{class:"cactus-arm2"},null,-1)]),4),e[19]||(e[19]=t("div",{class:"ground-line"},null,-1))],512),e[20]||(e[20]=t("div",{class:"game-message"},"Have a great day",-1))]),l(i(ke),{class:"date-icon"})])])])])]),l(ye)])}}},qe=ne(Oe,[["__scopeId","data-v-deffa98b"]]);export{qe as default};
