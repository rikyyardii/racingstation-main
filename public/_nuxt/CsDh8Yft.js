import{r as l,p as N,Z as B,c as m,a as e,d as F,q as v,u as r,F as D,s as x,b as i,w as I,T as V,t as c,x as R,o as s,y as K,v as U}from"./NOtjPhkj.js";import{_ as W}from"./Cdtb-WDZ.js";import{S as j,M as A,a as H,X as M,F as $}from"./CpoidPF2.js";import{A as q}from"./CYzYOwp6.js";import{s as z}from"./BSB9h2yL.js";import{C as O}from"./AZUTIdri.js";const P={class:"app"},X={class:"header-content"},Z={class:"header-controls"},G={class:"desktop-nav"},J=["href"],Q={key:0,class:"mobile-nav"},Y={class:"mobile-nav-content"},ee=["href"],te={class:"live-streaming"},oe={class:"video-container"},se=["src"],ne={class:"live-commentary"},ae={class:"update-info"},le={class:"text-justify"},pe={__name:"[id]",setup(re){const _=l(""),u=l(!1),d=l(!0),y=["Latest News","Watch Sports"],g=R().params.id||null,f=l(""),p=l(""),k=l(""),w=l(null);let h=null;const b=()=>{u.value=!u.value},T=()=>{d.value=!d.value,document.body.classList.toggle("light-mode",!d.value)},L=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},S=()=>{const t=new Date;_.value=t.toLocaleTimeString()},E=async t=>{try{const o=(()=>{const a=new URL(window.location.href);return a.port="5000",a.origin})(),C=await fetch(`${o}/api/streams/${t}`);if(C.ok){const a=await C.json();f.value=a.title,k.value=a.content,a.status==="enable"?p.value=a.link:p.value="/offline_screen.html"}else console.error("Stream not found")}catch(n){console.error("Error fetching stream:",n)}};return N(()=>{g?E(g):console.error("Slug is undefined"),S(),h=z(S,1e3),document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("keydown",t=>{(t.ctrlKey&&t.shiftKey&&t.code==="KeyI"||t.ctrlKey&&t.shiftKey&&t.code==="KeyC"||t.ctrlKey&&t.code==="KeyU"||t.code==="F12")&&(t.preventDefault(),t.stopPropagation())})}),B(()=>{h!==null&&clearInterval(h),document.removeEventListener("contextmenu",t=>t.preventDefault()),document.removeEventListener("keydown",t=>{})}),(t,n)=>(s(),m("div",P,[e("header",null,[e("div",X,[n[0]||(n[0]=e("h1",{class:"logo"},[e("img",{src:W,alt:"RacingStation Logo",class:"logo-image"}),F(" RacingStation ")],-1)),e("div",Z,[e("button",{onClick:T,class:"icon-button"},[d.value?(s(),v(r(j),{key:0})):(s(),v(r(A),{key:1}))]),e("button",{onClick:b,class:"icon-button menu-toggle"},[u.value?(s(),v(r(M),{key:1})):(s(),v(r(H),{key:0}))]),e("nav",G,[e("ul",null,[(s(),m(D,null,x(y,o=>e("li",{key:o},[e("a",{href:L(o),class:K({active:w.value===o})},c(o),11,J)])),64))])])])])]),i(V,{name:"slide"},{default:I(()=>[u.value?(s(),m("nav",Q,[e("div",Y,[e("button",{onClick:b,class:"icon-button close-menu"},[i(r(M))]),e("ul",null,[(s(),m(D,null,x(y,o=>e("li",{key:o},[e("a",{href:L(o),class:K({active:w.value===o})},c(o),11,ee)])),64))])])])):U("",!0)]),_:1}),e("main",null,[i(q),e("div",te,[e("h1",null,c(f.value),1),e("div",oe,[e("iframe",{src:p.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,se),n[1]||(n[1]=e("div",{class:"iframe-overlay"},null,-1))]),e("div",ne,[e("div",ae,[i(r(O)),e("span",null,c(_.value),1)]),e("h3",null,"What is "+c(f.value)+"?",1),e("p",le,c(k.value),1)])])]),i($)]))}};export{pe as default};
