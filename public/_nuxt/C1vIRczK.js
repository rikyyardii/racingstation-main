import{r,u as X,c as y,o as H,C as J,a as l,b as e,_ as Q,d as U,e as _,f as u,F as $,g as C,h as v,i as Y,T as Z,t as i,j as E,k as tt,m as et,l as n,n as K,v as ot}from"./DTS_rHu3.js";import{S as st,M as at,a as nt,X as j,F as rt}from"./B7TBht48.js";import{u as lt,A as it}from"./C_OIQysI.js";import{s as ct}from"./jeC7vlia.js";import{C as ut}from"./RAoSD9Qe.js";const dt={class:"app"},mt={class:"header-content"},vt={class:"header-controls"},ht={class:"desktop-nav"},pt=["href"],ft={key:0,class:"mobile-nav"},gt={class:"mobile-nav-content"},yt=["href"],_t={class:"live-streaming"},St={key:0},wt={class:"video-container"},kt=["src"],bt={key:0,class:"button-container"},$t=["onClick"],Ct={class:"live-commentary"},Et={class:"update-info"},Ft={class:"time"},It={class:"text-justify"},Kt={__name:"[id]",setup(Dt){const F=r(""),h=r(!1),p=r(!0),I=["Latest News","Watch Sports"],S=tt().params.id||null,f=r(""),d=r(""),m=r(""),w=r(""),x=r(""),D=r(null),k=r([]),L=r("");let b=null;const B=t=>{if(m.value!==t){m.value=t;const s=window.history.state;window.history.replaceState(s,"",window.location.href)}},M=()=>{h.value=!h.value},N=()=>{p.value=!p.value,document.body.classList.toggle("light-mode",!p.value)},R=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},T=()=>{const t=new Date,s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(t),o=t.getDate(),a=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),g=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(t),O=t.toLocaleTimeString("en-US",{hour12:!0});F.value=`${s}, ${o} ${a} ${g}. ${O}`},{API_URL:W,IMAGE_URL:c}=X().public,P=t=>{const s=c.startsWith("http")?c:`https://${c}`;return!t||typeof t!="string"?`${s}/public/img/racingstation-stream.png`:t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/public/img/")?`${s}${t}`:`${s}/public/img/${t}`},V=y(()=>f.value||"RacingStation Stream"),A=y(()=>w.value||"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports."),G=y(()=>`${c.startsWith("http")?c:`https://${c}`}/public/img/racingstation-stream.png`);lt({title:V,ogTitle:"RacingStation Stream",description:A,ogDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",ogImage:G,twitterTitle:"RacingStation Stream",twitterDescription:"Stream live sports events including Formula 1, MotoGP, WEC, Football, and more on RacingStation Stream. Enjoy high-quality streaming and stay updated on all your favorite sports.",twitterCard:"summary_large_image"});const q=async t=>{const s=et();try{const o=await fetch(`${W}/streams/${t}`);if(o.ok){const a=await o.json();f.value=a.title,d.value=a.event,w.value=a.content,L.value=a.status,x.value=P(a.image_path),a.status==="enable"?m.value=a.link:m.value="/watch/offline_screen"}else o.status===404?(console.error("Stream not found"),s.push("/404")):console.error("Failed to fetch stream data")}catch(o){console.error("Error fetching stream:",o),s.push("/404")}},z=async t=>{try{const s=await fetch(`${W}/streams/${t}`);if(s.ok){const o=await s.json();k.value=[],["link","link2","link3","link4"].forEach((a,g)=>{o[a]&&k.value.push({label:`Server ${g+1}`,url:o[a],status:o.status})})}else console.error("Failed to fetch buttons data")}catch(s){console.error("Error fetching buttons:",s)}};return y(()=>d.value?`(${d.value})`:""),H(()=>{S?(q(S),z(S)):console.error("Slug is undefined"),T(),b=ct(T,1e3),document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("keydown",t=>{(t.ctrlKey&&t.shiftKey&&t.code==="KeyI"||t.ctrlKey&&t.shiftKey&&t.code==="KeyC"||t.ctrlKey&&t.code==="KeyU"||t.code==="F12")&&(t.preventDefault(),t.stopPropagation())})}),J(()=>{b!==null&&clearInterval(b),document.removeEventListener("contextmenu",t=>t.preventDefault()),document.removeEventListener("keydown",t=>{})}),(t,s)=>(n(),l("div",dt,[e("header",null,[e("div",mt,[s[0]||(s[0]=e("h1",{class:"logo"},[e("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),U(" RacingStation ")],-1)),e("div",vt,[e("button",{onClick:N,class:"icon-button"},[p.value?(n(),_(u(st),{key:0})):(n(),_(u(at),{key:1}))]),e("button",{onClick:M,class:"icon-button menu-toggle"},[h.value?(n(),_(u(j),{key:1})):(n(),_(u(nt),{key:0}))]),e("nav",ht,[e("ul",null,[(n(),l($,null,C(I,o=>e("li",{key:o},[e("a",{href:R(o),class:K({active:D.value===o})},i(o),11,pt)])),64))])])])])]),v(Z,{name:"slide"},{default:Y(()=>[h.value?(n(),l("nav",ft,[e("div",gt,[e("button",{onClick:M,class:"icon-button close-menu"},[v(u(j))]),e("ul",null,[(n(),l($,null,C(I,o=>e("li",{key:o},[e("a",{href:R(o),class:K({active:D.value===o})},i(o),11,yt)])),64))])])])):E("",!0)]),_:1}),e("main",null,[v(it),e("div",_t,[e("h1",null,[U(i(f.value)+" ",1),d.value?(n(),l("span",St,"("+i(d.value)+")",1)):E("",!0)]),e("div",wt,[e("iframe",{src:m.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,kt),s[1]||(s[1]=e("div",{class:"iframe-overlay"},null,-1))]),L.value==="enable"?(n(),l("div",bt,[(n(!0),l($,null,C(k.value,(o,a)=>(n(),l("button",{key:a,class:"action-button",onClick:ot(g=>B(o.url),["prevent"])},i(o.label),9,$t))),128))])):E("",!0),e("div",Ct,[e("div",Et,[v(u(ut)),e("span",Ft,i(F.value),1)]),e("h1",null,"What is "+i(f.value)+"?",1),e("p",It,i(w.value),1)])])]),v(rt)]))}};export{Kt as default};
