import{r as a,u as q,c as v,w as J,o as K,a as h,b as t,_ as Q,d as N,e as p,f as n,F as B,g as U,h as c,i as Y,T as Z,j as V,t as i,k as tt,l,n as W,m as et}from"./CNfsHwfQ.js";import{c as y,S as st,M as at,a as ot,X as F,F as nt}from"./X0usXoF5.js";import{u as lt,A as ct}from"./CDRvxpv1.js";import{s as rt}from"./Dm5pwK-E.js";import{C as it}from"./eui4AYTh.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=y("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=y("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=y("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_t={class:"app"},mt={class:"header-content"},vt={class:"header-controls"},pt={class:"desktop-nav"},gt=["href"],kt={key:0,class:"mobile-nav"},ft={class:"mobile-nav-content"},yt=["href"],bt={class:"article-container"},wt={class:"back-nav"},Mt={href:"/",class:"back-link"},Ct={class:"hero-image"},Lt=["src","alt"],Dt={class:"article-content"},At={class:"category"},Tt={class:"title"},It={class:"metadata"},St={class:"metadata-item"},xt={class:"metadata-item"},Rt={class:"metadata-item"},$t=["innerHTML"],Ht={__name:"[id]",async setup(Nt){let b,w;const H=tt(),M=a(null),u=a(null),C=a(null),L=a(null),D=a(null),g=a(null),d=a(null),j=a(""),_=a(!1),m=a(!0),A=["Latest News","Watch Sports"],T=a("Detailed Article"),E=e=>{const o={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",o)},{API_URL:z,IMAGE_URL:k}=q().public,f=e=>!e||typeof e!="string"?`${k}/public/img/default.jpg`:e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/public/img/")?`${k}${e}`:`${k}/public/img/${e}`,I=v(()=>u.value||"Default Title"),S=v(()=>`Details about ${u.value||"this article"}`);lt({title:I,ogTitle:I,description:S,ogDescription:S,ogImage:v(()=>f(d.value)),twitterCard:"summary_large_image"});const G=async e=>{const o=et();try{const s=await fetch(`${z}/articles/${e}`);if(s.ok){const r=await s.json();M.value=r.category,u.value=r.title,C.value=E(r.date),L.value=r.author,D.value=r.reading_time,g.value=r.content,d.value=f(r.image_path),console.log(d.value)}else s.status===404?(console.error("Artikel tidak ditemukan"),o.push("/404")):console.error("Gagal memuat artikel")}catch(s){console.error("Error fetching article:",s),o.push("/404")}},P=H.params.id;[b,w]=J(()=>G(P)),await b,w();const x=()=>{const e=new Date;j.value=e.toLocaleTimeString()},R=()=>{_.value=!_.value},O=()=>{m.value=!m.value,document.body.classList.toggle("light-mode",!m.value)},$=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},X=v(()=>g.value?g.value.replace(/\n/g,"<br>"):"");return K(()=>{x(),rt(x,1e3)}),(e,o)=>(l(),h("div",_t,[t("header",null,[t("div",mt,[o[0]||(o[0]=t("h1",{class:"logo"},[t("img",{src:Q,alt:"RacingStation Logo",class:"logo-image"}),N(" RacingStation ")],-1)),t("div",vt,[t("button",{onClick:O,class:"icon-button"},[m.value?(l(),p(n(st),{key:0})):(l(),p(n(at),{key:1}))]),t("button",{onClick:R,class:"icon-button menu-toggle"},[_.value?(l(),p(n(F),{key:1})):(l(),p(n(ot),{key:0}))]),t("nav",pt,[t("ul",null,[(l(),h(B,null,U(A,s=>t("li",{key:s},[t("a",{href:$(s),class:W({active:T.value===s})},i(s),11,gt)])),64))])])])])]),c(Z,{name:"slide"},{default:Y(()=>[_.value?(l(),h("nav",kt,[t("div",ft,[t("button",{onClick:R,class:"icon-button close-menu"},[c(n(F))]),t("ul",null,[(l(),h(B,null,U(A,s=>t("li",{key:s},[t("a",{href:$(s),class:W({active:T.value===s})},i(s),11,yt)])),64))])])])):V("",!0)]),_:1}),t("main",null,[c(ct),t("article",bt,[t("nav",wt,[t("a",Mt,[c(n(ut),{class:"icon"}),o[1]||(o[1]=N(" Back to Articles "))])]),t("div",Ct,[d.value?(l(),h("img",{key:0,src:f(d.value),alt:u.value},null,8,Lt)):V("",!0)]),t("div",Dt,[t("h1",At,i(M.value),1),t("h1",Tt,i(u.value),1),t("div",It,[t("div",St,[c(n(dt),{class:"icon"}),t("span",null,i(C.value),1)]),t("div",xt,[c(n(ht),{class:"icon"}),t("span",null,i(L.value),1)]),t("div",Rt,[c(n(it),{class:"icon"}),t("span",null,i(D.value)+" min read",1)])]),t("p",{class:"content",innerHTML:X.value},null,8,$t)])])]),c(nt)]))}};export{Ht as default};
