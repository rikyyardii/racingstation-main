import{v as de,r as u,k as ve,l as g,p as he,x as me,y as ge,c as l,a as e,_ as q,b as L,d as M,u as d,F,e as E,f as r,w as I,T as O,t as c,g as m,n as D,z as J,A as W,B as X,C as pe,D as _e,o,h as fe}from"./ai8Zwbm5.js";import{c as ye,S as ke,M as be,a as we,X as H,F as Se}from"./ChfSnWL-.js";import{A as K}from"./CSg9DWBG.js";import{u as Ce}from"./u9sdNX-J.js";import{S as $,A as xe,C as Ae,a as Le}from"./Dh_7BomZ.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ye("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Fe={class:"app"},Ee={class:"header-content"},Ie={class:"header-controls"},De={class:"desktop-nav"},Ne={key:0,class:"mobile-nav"},Re={class:"mobile-nav-content"},Pe={key:0,class:"articles-section"},We={class:"featured-article-content"},$e={class:"featured-article-image"},Te=["src","alt"],Ve={key:1},ze={class:"featured-article-text"},Ue={class:"article-category"},je={class:"excerpt"},Be={class:"article-meta"},Ge={class:"author-info"},Qe=["alt"],qe={class:"author-name"},Oe={class:"article-details"},Je={class:"latest-article-section"},Xe={class:"latest-article-controls"},He={class:"filter-container"},Ke={class:"relative"},Ye={key:0,class:"filter-dropdown"},Ze=["onClick"],et={key:0,class:"search-container"},tt={type:"submit",class:"search-button"},st={type:"submit",class:"search-button"},at={class:"article-grid"},ot={key:0,class:"no-articles-message"},lt=["onClick"],nt={class:"article-image-container"},it=["src","alt"],rt={key:1},ct={class:"article-content"},ut={class:"article-category"},dt={class:"text-left hover:text-justify"},vt={class:"article-footer"},ht={class:"article-date"},mt={class:"read-more"},gt={key:2,class:"pagination"},pt=["disabled"],_t={class:"pagination-info"},ft=["disabled"],f=6,yt={__name:"index",setup(kt){const Y=_e(),Z=u(null),k=u(!1),b=u(!0),T=u("Latest News");u(!1),u(""),u("");const v=u(""),_=u(!1),y=u(!1),p=u(!1),w=u("All"),ee=["All","Formula 1","MotoGP","WEC"],V=["Latest News","Watch Sports"],z=s=>{switch(s){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},N=()=>{k.value=!k.value},te=()=>{b.value=!b.value,document.body.classList.toggle("light-mode",!b.value)},U=u([]),{API_URL:se,IMAGE_URL:S}=ve().public,R=g(()=>"RacingStation - News and Stream");g(()=>"Watch live streaming of your favorite events.");const ae=g(()=>`${S.startsWith("http")?S:`https://${S}`}/public/img/racingstation.png`);Ce({title:R,ogTitle:R,description:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",ogDescription:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",ogImage:ae,twitterTitle:R,twitterDescription:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",twitterCard:"summary_large_image"});const oe=async()=>{try{const s=await fetch(`${se}/articles_card`);if(!s.ok)throw new Error("Network response was not ok");const t=await s.json();U.value=t.map(n=>({...n,image_path:`${S}${n.image_path}`,slug:n.slug}))}catch(s){console.error("Error fetching articles:",s)}},j=()=>{console.log("Searching for:",v.value),localStorage.setItem("searchQuery",v.value),_.value&&(y.value=!1)},le=()=>{y.value=!y.value},P=()=>{_.value=window.innerWidth<=640,_.value||(y.value=!0)},ne=()=>{p.value=!p.value},ie=s=>{w.value=s,p.value=!1,h.value=1};he(()=>{P(),window.addEventListener("resize",P),oe();const s=localStorage.getItem("searchQuery");s&&(v.value=s),window.addEventListener("beforeunload",()=>{localStorage.removeItem("searchQuery")});const t=localStorage.getItem("selectedArticle");t&&(Z.value=JSON.parse(t),T.value="Detailed Article"),document.addEventListener("click",n=>{const a=document.querySelector(".filter-container");a&&!a.contains(n.target)&&(p.value=!1)})}),me(()=>{window.removeEventListener("resize",P)});const i=g(()=>U.value.slice().sort((s,t)=>new Date(t.date)-new Date(s.date))),C=g(()=>{let s=i.value;w.value!=="All"&&(s=s.filter(n=>n.category===w.value));const t=v.value.trim().toLowerCase();return t&&(s=s.filter(n=>n.title.toLowerCase().includes(t))),s}),B=g(()=>{const s=(h.value-1)*f,t=s+f;return v.value.trim()?C.value.slice(s,t):C.value.slice(1).slice(s,t)}),h=u(1),x=g(()=>{if(v.value.trim())return Math.ceil(C.value.length/f);{const s=Math.max(0,C.value.length-1);return Math.ceil(s/f)}});ge(v,s=>{s.trim()&&(h.value=1)}),g(()=>{var A;const s=(A=i.value[0])==null?void 0:A.id,t=i.value.filter(ue=>ue.id!==s),n=(h.value-1)*f,a=n+f;return t.slice(n,a)});const re=()=>{h.value<x.value&&h.value++},ce=()=>{h.value>1&&h.value--},G=s=>{s&&s.slug?Y.push(`/article/${s.slug}`):console.error("Slug tidak ditemukan")},Q=s=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("en-US",t)};return(s,t)=>{const n=fe;return o(),l("div",Fe,[e("header",null,[e("div",Ee,[t[3]||(t[3]=e("h1",{class:"logo"},[e("img",{src:q,alt:"RacingStation Logo",class:"logo-image"}),L(" RacingStation ")],-1)),e("div",Ie,[e("button",{onClick:te,class:"icon-button"},[b.value?(o(),M(d(ke),{key:0})):(o(),M(d(be),{key:1}))]),e("button",{onClick:N,class:"icon-button menu-toggle"},[k.value?(o(),M(d(H),{key:1})):(o(),M(d(we),{key:0}))]),e("nav",De,[e("ul",null,[(o(),l(F,null,E(V,a=>e("li",{key:a},[r(n,{to:z(a),class:"no-active-link"},{default:I(()=>[L(c(a),1)]),_:2},1032,["to"])])),64))])])])])]),r(O,{name:"slide"},{default:I(()=>[k.value?(o(),l("nav",Ne,[e("div",Re,[e("button",{onClick:N,class:"icon-button close-menu"},[r(d(H))]),e("ul",null,[(o(),l(F,null,E(V,a=>e("li",{key:a},[r(n,{to:z(a),class:"no-active-link",onClick:N},{default:I(()=>[L(c(a),1)]),_:2},1032,["to"])])),64))])])])):m("",!0)]),_:1}),e("main",null,[r(K),T.value==="Latest News"?(o(),l("div",Pe,[t[9]||(t[9]=e("div",{class:"news-header"},[e("h2",{class:"font-sans font-normal"},"News")],-1)),i.value.length>0?(o(),l("article",{key:0,class:"featured-article",onClick:t[0]||(t[0]=a=>G(i.value[0]))},[e("div",We,[e("div",$e,[i.value[0].image_path?(o(),l("img",{key:0,src:i.value[0].image_path,alt:i.value[0].title,loading:"lazy"},null,8,Te)):(o(),l("p",Ve,"Image not available"))]),e("div",ze,[e("span",Ue,c(i.value[0].category),1),e("h3",null,c(i.value[0].title),1),e("p",je,c(i.value[0].excerpt),1),e("div",Be,[e("div",Ge,[i.value[0].author?(o(),l("img",{key:0,class:"author-image",src:q,alt:i.value[0].author},null,8,Qe)):m("",!0),e("div",null,[e("p",qe,c(i.value[0].author),1),e("div",Oe,[e("time",null,c(Q(i.value[0].date)),1),t[4]||(t[4]=e("span",{class:"separator"},"Â·",-1)),e("span",null,c(i.value[0].reading_time)+" min read",1)])])])])])])])):m("",!0),e("div",Je,[t[6]||(t[6]=e("div",{class:"latest-article-title"},[e("h2",{class:"font-sans font-normal"},"Latest Article")],-1)),e("div",Xe,[e("div",He,[e("div",Ke,[e("button",{onClick:ne,class:D(["filter-button",{active:p.value}])},[t[5]||(t[5]=e("span",{class:"filter-text"},"FILTER",-1)),r(d(Me),{class:D(["filter-icon",{"rotate-180":p.value}])},null,8,["class"])],2),r(O,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:I(()=>[p.value?(o(),l("div",Ye,[(o(),l(F,null,E(ee,a=>e("button",{key:a,onClick:A=>ie(a),class:D(["filter-option",{selected:w.value===a}])},c(a),11,Ze)),64))])):m("",!0)]),_:1})])]),_.value?m("",!0):(o(),l("div",et,[e("form",{onSubmit:J(j,["prevent"]),class:"search-form"},[W(e("input",{type:"search","onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),placeholder:"Search articles...",class:"search-input","aria-label":"Search articles"},null,512),[[X,v.value]]),e("button",tt,[r(d($),{class:"search-icon"})])],32)])),W(e("button",{onClick:le,class:"mobile-search-icon"},[r(d($),{class:"search-icon"})],512),[[pe,_.value]])])]),_.value?(o(),l("div",{key:1,class:D(["search-container mobile-search",{"mobile-search-active":y.value}])},[e("form",{onSubmit:J(j,["prevent"]),class:"search-form"},[W(e("input",{type:"search","onUpdate:modelValue":t[2]||(t[2]=a=>v.value=a),placeholder:"Search articles...",class:"search-input"},null,512),[[X,v.value]]),e("button",st,[r(d($),{class:"search-icon"})])],32)],2)):m("",!0),e("div",at,[B.value.length===0?(o(),l("div",ot,t[7]||(t[7]=[e("p",null,"No articles found for the selected category or search query.",-1)]))):m("",!0),(o(!0),l(F,null,E(B.value,a=>(o(),l("article",{key:a.slug,class:"article-card",onClick:A=>G(a)},[e("div",nt,[a.image_path?(o(),l("img",{key:0,src:a.image_path,alt:a.title,class:"article-image",loading:"lazy"},null,8,it)):(o(),l("p",rt,"Image not available"))]),e("div",ct,[e("span",ut,c(a.category),1),e("h3",null,c(a.title),1),e("p",dt,c(a.excerpt),1),e("div",vt,[e("span",ht,c(Q(a.date)),1),e("span",mt,[t[8]||(t[8]=L(" Read more ")),r(d(xe))])])])],8,lt))),128))]),x.value>1?(o(),l("div",gt,[e("button",{onClick:ce,disabled:h.value===1,class:"pagination-button"},[r(d(Ae))],8,pt),e("span",_t,"Page "+c(h.value)+" of "+c(x.value),1),e("button",{onClick:re,disabled:h.value===x.value,class:"pagination-button"},[r(d(Le))],8,ft)])):m("",!0)])):m("",!0)]),r(K),r(Se)])}}},At=de(yt,[["__scopeId","data-v-48e63040"]]);export{At as default};
