import{_ as h,r as p,u as k,c as f,a as t,d as x,q as c,F as I,v as M,B as T,C as a,D as u,A,E as m,o as d,z as V,t as w}from"./CbLDumkK.js";import{_ as C}from"./D0HM4FHE.js";const D={data(){return{article:{image:null,category:"",title:"",excerpt:"",date:"",author:"",readingTime:"",content:""}}},setup(){const n=A(),e=p(!1),l=p(!0),i=p("Home");return{isMenuOpen:e,isDarkMode:l,currentView:i,menuItems:["Home","Artikel","Live Stream","Logout"],navigateToArtikel:()=>{n.push("/Artikel")},toggleDarkMode:()=>{l.value=!l.value},toggleMenu:()=>{e.value=!e.value},selectView:g=>{i.value=g},router:n}},methods:{async handleImageUpload(n){const{API_URL:e}=k().public,l=n.target.files[0];if(l&&l.type==="image/png"){const i=new FormData;i.append("image",l);try{const s=await(await fetch(`${e}/upload-image`,{method:"POST",body:i})).json();s.success?this.article.image=s.imagePath:alert("Failed to upload image.")}catch(r){console.error("Error uploading image:",r),alert("Error uploading image.")}}else alert("Please upload a PNG file."),n.target.value=""},async submitArticle(){const{API_URL:n}=k().public;try{const e=await fetch(`${n}/articles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:this.article.category,title:this.article.title,excerpt:this.article.excerpt,date:this.article.date,author:this.article.author,readingTime:this.article.readingTime,content:this.article.content,imagePath:this.article.image})}),l=await e.json();e.ok?(alert("Article submitted successfully!"),this.router.push("Home"),this.resetForm()):alert("Error submitting article: "+l.error)}catch(e){console.error("Error submitting article:",e),alert("Error submitting article.")}},resetForm(){this.article={image:null,category:"",title:"",excerpt:"",date:"",author:"",readingTime:"",content:""}}}},U={class:"app-wrapper"},S={class:"header-content"},q={class:"header-controls"},P={class:"desktop-nav"},_=["onClick"],E={class:"dashboard"},F={class:"form-container"},L={class:"form-group"},R={class:"form-group"},B={class:"form-group"},N={class:"form-group"},O={class:"form-group"},j={class:"form-group"},H={class:"form-group"},z={class:"form-group"};function G(n,e,l,i,r,s){const v=m("SunIcon"),y=m("MoonIcon"),b=m("MenuIcon"),g=m("XIcon");return d(),f("div",U,[t("header",null,[t("header",null,[t("div",S,[t("h1",{class:"logo",onClick:e[0]||(e[0]=(...o)=>i.navigateToArtikel&&i.navigateToArtikel(...o)),style:{cursor:"pointer"}},e[12]||(e[12]=[t("img",{src:C,alt:"RacingStation Logo",class:"logo-image"},null,-1),x(" Dashboard ")])),t("div",q,[t("button",{onClick:e[1]||(e[1]=(...o)=>i.toggleDarkMode&&i.toggleDarkMode(...o)),class:"icon-button"},[i.isDarkMode?(d(),c(v,{key:0})):(d(),c(y,{key:1}))]),t("button",{onClick:e[2]||(e[2]=(...o)=>i.toggleMenu&&i.toggleMenu(...o)),class:"icon-button menu-toggle"},[i.isMenuOpen?(d(),c(g,{key:1})):(d(),c(b,{key:0}))]),t("nav",P,[t("ul",null,[(d(!0),f(I,null,M(i.menuItems,o=>(d(),f("li",{key:o},[t("a",{href:"#",onClick:T(X=>i.selectView(o),["prevent"]),class:V({active:i.currentView===o})},w(o),11,_)]))),128))])])])])])]),t("div",E,[e[22]||(e[22]=t("h1",null,"Add Articles",-1)),t("div",F,[t("form",{onSubmit:e[11]||(e[11]=T((...o)=>s.submitArticle&&s.submitArticle(...o),["prevent"]))},[t("div",L,[e[13]||(e[13]=t("label",{for:"image"},"Upload PNG Image:",-1)),t("input",{type:"file",id:"image",accept:".png",onChange:e[3]||(e[3]=(...o)=>s.handleImageUpload&&s.handleImageUpload(...o)),required:""},null,32)]),t("div",R,[e[14]||(e[14]=t("label",{for:"category"},"Category:",-1)),a(t("input",{type:"text",id:"category","onUpdate:modelValue":e[4]||(e[4]=o=>r.article.category=o),required:""},null,512),[[u,r.article.category]])]),t("div",B,[e[15]||(e[15]=t("label",{for:"title"},"Title:",-1)),a(t("input",{type:"text",id:"title","onUpdate:modelValue":e[5]||(e[5]=o=>r.article.title=o),required:""},null,512),[[u,r.article.title]])]),t("div",N,[e[16]||(e[16]=t("label",{for:"title"},"Excerpt",-1)),a(t("input",{type:"text",id:"excerpt","onUpdate:modelValue":e[6]||(e[6]=o=>r.article.excerpt=o),required:""},null,512),[[u,r.article.excerpt]])]),t("div",O,[e[17]||(e[17]=t("label",{for:"date"},"Date:",-1)),a(t("input",{type:"date",id:"date","onUpdate:modelValue":e[7]||(e[7]=o=>r.article.date=o),required:""},null,512),[[u,r.article.date]])]),t("div",j,[e[18]||(e[18]=t("label",{for:"author"},"Author:",-1)),a(t("input",{type:"text",id:"author","onUpdate:modelValue":e[8]||(e[8]=o=>r.article.author=o),required:""},null,512),[[u,r.article.author]])]),t("div",H,[e[19]||(e[19]=t("label",{for:"readingTime"},"Reading Time (min):",-1)),a(t("input",{type:"number",id:"readingTime","onUpdate:modelValue":e[9]||(e[9]=o=>r.article.readingTime=o),required:""},null,512),[[u,r.article.readingTime]])]),t("div",z,[e[20]||(e[20]=t("label",{for:"content"},"Content:",-1)),a(t("textarea",{id:"content","onUpdate:modelValue":e[10]||(e[10]=o=>r.article.content=o),required:""},null,512),[[u,r.article.content]])]),e[21]||(e[21]=t("button",{type:"submit"},"Submit Article",-1))],32)])])])}const Q=h(D,[["render",G],["__scopeId","data-v-8a91f0c0"]]);export{Q as default};
