import{r as u,u as J,c as _,o as X,a as i,b as t,_ as F,d as h,e as f,f as g,F as C,g as A,h as c,i as x,T as H,t as l,j as k,p as K,l as o,q as Q}from"./DxxQWAzE.js";import{S as Y,M as Z,a as tt,X as I,F as et}from"./BMLCxD5f.js";import{u as st,A as $}from"./SR0vypTV.js";import{A as at,C as ot,a as nt}from"./CbySQk4C.js";const lt={class:"app"},it={class:"header-content"},rt={class:"header-controls"},ct={class:"desktop-nav"},ut={key:0,class:"mobile-nav"},dt={class:"mobile-nav-content"},gt={key:0,class:"articles-section"},_t={class:"featured-article-content"},mt={class:"featured-article-image"},vt=["src","alt"],pt={key:1},ht={class:"featured-article-text"},ft={class:"article-category"},kt={class:"excerpt"},yt={class:"article-meta"},bt={class:"author-info"},wt=["alt"],St={class:"author-name"},Ct={class:"article-details"},At={class:"article-grid"},xt=["onClick"],Lt={class:"article-image-container"},Mt=["src","alt"],Nt={key:1},Rt={class:"article-content"},Dt={class:"article-category"},Pt={class:"text-left hover:text-justify"},Et={class:"article-footer"},Ft={class:"article-date"},It={class:"read-more"},$t={class:"pagination"},Wt=["disabled"],jt={class:"pagination-info"},Tt=["disabled"],L=6,Ot={__name:"index",setup(Vt){const W=K(),j=u(null),m=u(!1),v=u(!0),M=u("Latest News");u(!1),u(""),u("");const N=["Latest News","Watch Sports"],R=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},y=()=>{m.value=!m.value},T=()=>{v.value=!v.value,document.body.classList.toggle("light-mode",!v.value)},D=u([]),{API_URL:V,IMAGE_URL:p}=J().public,b=_(()=>"RacingStation - News and Stream");_(()=>"Watch live streaming of your favorite events.");const B=_(()=>`${p.startsWith("http")?p:`https://${p}`}/public/img/racingstation.png`);st({title:b,ogTitle:b,description:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",ogDescription:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",ogImage:B,twitterTitle:b,twitterDescription:"Stay updated with the latest sports news and enjoy live streaming of sports events, including Formula 1, MotoGP, WEC, Football, and more. Experience a mobile-friendly platform and reliable streaming services with RacingStation.",twitterCard:"summary_large_image"});const G=async()=>{try{const e=await fetch(`${V}/articles_card`);if(!e.ok)throw new Error("Network response was not ok");const s=await e.json();D.value=s.map(r=>({...r,image_path:`${p}${r.image_path}`,slug:r.slug}))}catch(e){console.error("Error fetching articles:",e)}};X(()=>{G();const e=localStorage.getItem("selectedArticle");e&&(j.value=JSON.parse(e),M.value="Detailed Article")});const n=_(()=>D.value.slice().sort((e,s)=>new Date(s.date)-new Date(e.date))),d=u(1),w=_(()=>{const e=n.value.filter((s,r)=>r!==0);return Math.ceil(e.length/L)}),U=_(()=>{var S;const e=(S=n.value[0])==null?void 0:S.id,s=n.value.filter(q=>q.id!==e),r=(d.value-1)*L,a=r+L;return s.slice(r,a)}),z=()=>{d.value<w.value&&d.value++},O=()=>{d.value>1&&d.value--},P=e=>{e&&e.slug?W.push(`/article/${e.slug}`):console.error("Slug tidak ditemukan")},E=e=>{const s={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",s)};return(e,s)=>{const r=Q;return o(),i("div",lt,[t("header",null,[t("div",it,[s[1]||(s[1]=t("h1",{class:"logo"},[t("img",{src:F,alt:"RacingStation Logo",class:"logo-image"}),h(" RacingStation ")],-1)),t("div",rt,[t("button",{onClick:T,class:"icon-button"},[v.value?(o(),f(g(Y),{key:0})):(o(),f(g(Z),{key:1}))]),t("button",{onClick:y,class:"icon-button menu-toggle"},[m.value?(o(),f(g(I),{key:1})):(o(),f(g(tt),{key:0}))]),t("nav",ct,[t("ul",null,[(o(),i(C,null,A(N,a=>t("li",{key:a},[c(r,{to:R(a),class:"no-active-link"},{default:x(()=>[h(l(a),1)]),_:2},1032,["to"])])),64))])])])])]),c(H,{name:"slide"},{default:x(()=>[m.value?(o(),i("nav",ut,[t("div",dt,[t("button",{onClick:y,class:"icon-button close-menu"},[c(g(I))]),t("ul",null,[(o(),i(C,null,A(N,a=>t("li",{key:a},[c(r,{to:R(a),class:"no-active-link",onClick:y},{default:x(()=>[h(l(a),1)]),_:2},1032,["to"])])),64))])])])):k("",!0)]),_:1}),t("main",null,[c($),M.value==="Latest News"?(o(),i("div",gt,[s[4]||(s[4]=t("h2",{class:"font-sans font-normal"},"News",-1)),n.value.length>0?(o(),i("article",{key:0,class:"featured-article",onClick:s[0]||(s[0]=a=>P(n.value[0]))},[t("div",_t,[t("div",mt,[n.value[0].image_path?(o(),i("img",{key:0,src:n.value[0].image_path,alt:n.value[0].title,loading:"lazy"},null,8,vt)):(o(),i("p",pt,"Image not available"))]),t("div",ht,[t("span",ft,l(n.value[0].category),1),t("h3",null,l(n.value[0].title),1),t("p",kt,l(n.value[0].excerpt),1),t("div",yt,[t("div",bt,[n.value[0].author?(o(),i("img",{key:0,class:"author-image",src:F,alt:n.value[0].author},null,8,wt)):k("",!0),t("div",null,[t("p",St,l(n.value[0].author),1),t("div",Ct,[t("time",null,l(E(n.value[0].date)),1),s[2]||(s[2]=t("span",{class:"separator"},"Â·",-1)),t("span",null,l(n.value[0].reading_time)+" min read",1)])])])])])])])):k("",!0),s[5]||(s[5]=t("h2",{class:"font-sans font-normal"},"Latest Article",-1)),t("div",At,[(o(!0),i(C,null,A(U.value,a=>(o(),i("article",{key:a.slug,class:"article-card",onClick:S=>P(a)},[t("div",Lt,[a.image_path?(o(),i("img",{key:0,src:a.image_path,alt:a.title,class:"article-image",loading:"lazy"},null,8,Mt)):(o(),i("p",Nt,"Image not available"))]),t("div",Rt,[t("span",Dt,l(a.category),1),t("h3",null,l(a.title),1),t("p",Pt,l(a.excerpt),1),t("div",Et,[t("span",Ft,l(E(a.date)),1),t("span",It,[s[3]||(s[3]=h(" Read more ")),c(g(at))])])])],8,xt))),128))]),t("div",$t,[t("button",{onClick:O,disabled:d.value===1,class:"pagination-button"},[c(g(ot))],8,Wt),t("span",jt,"Page "+l(d.value)+" of "+l(w.value),1),t("button",{onClick:z,disabled:d.value===w.value,class:"pagination-button"},[c(g(nt))],8,Tt)])])):k("",!0)]),c($),c(et)])}}};export{Ot as default};
