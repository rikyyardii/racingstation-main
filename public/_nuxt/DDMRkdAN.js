import{s as v,r as l,u as g,a as i,b as s,x as u,y as d,t as y,j as w,v as b,p as _,l as p}from"./C4TyFVf3.js";const x={class:"login-container"},S={class:"form-group"},k={class:"form-group"},L={key:0,class:"error"},P={__name:"index",setup(R){const a=l(""),r=l(""),o=l(""),c=_(),{API_URL:m}=g().public,f=async()=>{o.value="";try{const t=await fetch(`${m}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.value,password:r.value}),credentials:"include"}),e=await t.json();t.ok&&e.success?(console.log("Login successful!"),c.push("/rikya/components/Home")):o.value=e.message||"Login failed. Please try again."}catch(t){console.error("Login error:",t),o.value="An error occurred. Please try again later."}};return(t,e)=>(p(),i("div",x,[s("form",{onSubmit:b(f,["prevent"]),class:"login-form"},[e[4]||(e[4]=s("h1",null,"RacingStation",-1)),s("div",S,[e[2]||(e[2]=s("label",{for:"username"},"Username",-1)),u(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),required:"",autocomplete:"off"},null,512),[[d,a.value]])]),s("div",k,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),u(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),required:"",autocomplete:"off"},null,512),[[d,r.value]])]),e[5]||(e[5]=s("button",{type:"submit"},"Log In",-1)),o.value?(p(),i("div",L,y(o.value),1)):w("",!0)],32)]))}},V=v(P,[["__scopeId","data-v-78444936"]]);export{V as default};
