import{r as a,u as P,w as O,c as X,o as q,a as u,b as t,_ as J,d as T,e as m,f as o,F as R,g as N,h as l,i as K,T as Q,j as $,t as i,k as Y,l as c,n as B,m as Z}from"./_QJn3mRB.js";import{c as k,S as tt,M as et,a as st,X as U,F as at}from"./CrZs5LA2.js";import{A as ot}from"./DlOoI8zE.js";import{s as nt}from"./BpUsuM9F.js";import{C as ct}from"./tVJ5ZvnS.js";/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=k("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=k("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=k("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ut={class:"app"},dt={class:"header-content"},ht={class:"header-controls"},_t={class:"desktop-nav"},mt=["href"],vt={key:0,class:"mobile-nav"},pt={class:"mobile-nav-content"},kt=["href"],gt={class:"article-container"},yt={class:"back-nav"},ft={href:"/",class:"back-link"},bt={class:"hero-image"},wt=["src","alt"],Mt={class:"article-content"},Ct={class:"category"},Lt={class:"title"},At={class:"metadata"},xt={class:"metadata-item"},It={class:"metadata-item"},St={class:"metadata-item"},Dt=["innerHTML"],Vt={__name:"[id]",async setup(Tt){let g,y;const V=Y(),f=a(null),v=a(null),b=a(null),w=a(null),M=a(null),p=a(null),d=a(null),W=a(""),h=a(!1),_=a(!0),C=["Latest News","Watch Sports"],L=a("Detailed Article"),F=s=>{const n={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("en-US",n)},{API_URL:H,IMAGE_URL:A}=P().public,E=async s=>{const n=Z();try{const e=await fetch(`${H}/articles/${s}`);if(e.ok){const r=await e.json();f.value=r.category,v.value=r.title,b.value=F(r.date),w.value=r.author,M.value=r.reading_time,p.value=r.content,d.value=x(r.image_path),console.log(d.value)}else e.status===404?(console.error("Artikel tidak ditemukan"),n.push("/404")):console.error("Gagal memuat artikel")}catch(e){console.error("Error fetching article:",e),n.push("/404")}},x=s=>s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("/public/img/")?`${A}${s}`:`${A}/public/img/${s}`,j=V.params.id;[g,y]=O(()=>E(j)),await g,y();const I=()=>{const s=new Date;W.value=s.toLocaleTimeString()},S=()=>{h.value=!h.value},z=()=>{_.value=!_.value,document.body.classList.toggle("light-mode",!_.value)},D=s=>{switch(s){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},G=X(()=>p.value?p.value.replace(/\n/g,"<br>"):"");return q(()=>{I(),nt(I,1e3)}),(s,n)=>(c(),u("div",ut,[t("header",null,[t("div",dt,[n[0]||(n[0]=t("h1",{class:"logo"},[t("img",{src:J,alt:"RacingStation Logo",class:"logo-image"}),T(" RacingStation ")],-1)),t("div",ht,[t("button",{onClick:z,class:"icon-button"},[_.value?(c(),m(o(tt),{key:0})):(c(),m(o(et),{key:1}))]),t("button",{onClick:S,class:"icon-button menu-toggle"},[h.value?(c(),m(o(U),{key:1})):(c(),m(o(st),{key:0}))]),t("nav",_t,[t("ul",null,[(c(),u(R,null,N(C,e=>t("li",{key:e},[t("a",{href:D(e),class:B({active:L.value===e})},i(e),11,mt)])),64))])])])])]),l(Q,{name:"slide"},{default:K(()=>[h.value?(c(),u("nav",vt,[t("div",pt,[t("button",{onClick:S,class:"icon-button close-menu"},[l(o(U))]),t("ul",null,[(c(),u(R,null,N(C,e=>t("li",{key:e},[t("a",{href:D(e),class:B({active:L.value===e})},i(e),11,kt)])),64))])])])):$("",!0)]),_:1}),t("main",null,[l(ot),t("article",gt,[t("nav",yt,[t("a",ft,[l(o(lt),{class:"icon"}),n[1]||(n[1]=T(" Back to Articles "))])]),t("div",bt,[d.value?(c(),u("img",{key:0,src:x(d.value),alt:v.value},null,8,wt)):$("",!0)]),t("div",Mt,[t("h1",Ct,i(f.value),1),t("h1",Lt,i(v.value),1),t("div",At,[t("div",xt,[l(o(rt),{class:"icon"}),t("span",null,i(b.value),1)]),t("div",It,[l(o(it),{class:"icon"}),t("span",null,i(w.value),1)]),t("div",St,[l(o(ct),{class:"icon"}),t("span",null,i(M.value)+" min read",1)])]),t("p",{class:"content",innerHTML:o(G)},null,8,Dt)])])]),l(at)]))}};export{Vt as default};
