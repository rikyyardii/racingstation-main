import{r as n,k as ue,l as v,m as O,v as de,x as ve,c as r,a as e,_ as me,b as w,d as C,u as c,F as A,e as T,g as p,f as l,w as x,T as he,y as Q,z as D,A as q,G as K,B as pe,n as ge,t as m,q as fe,o,h as _e}from"./Dfs4USFl.js";import{S as be,M as ye,a as Se,X as G,F as ke}from"./C-Bi9q7G.js";import{u as we}from"./DE3Kh6dv.js";import{s as Ce}from"./Bs6SlCOM.js";import{S as I,A as Le,C as Me,a as Re}from"./DdWp8XFY.js";const Ae={class:"app"},Te={class:"header-content"},xe={class:"header-controls"},De={class:"desktop-nav"},Ie={key:0,class:"mobile-nav"},Ne={class:"mobile-nav-content"},Ee={key:0,class:"articles-section"},Pe={class:"stream-header"},Ve={key:0,class:"search-container"},We={type:"submit",class:"search-button"},$e={type:"submit",class:"search-button"},Be={class:"stream-grid"},Ue=["onClick"],ze={class:"stream-image-container"},je=["src","alt"],Fe={key:1},Oe={class:"stream-content"},Qe={class:"stream-category"},qe={class:"stream-footer"},Ke={class:"read-more"},Ge={key:1,class:"pagination"},Je=["disabled"],Xe={class:"pagination-info"},He=["disabled"],N=6,ot={__name:"stream",setup(Ye){const J=n(""),X=fe(),H=n(""),E=n(!0),P=n("https://diarrhoeaeaglesunday.com/nuq43mw5?key=0bdf39cccdf2c3d75bc9a21410f7ef48"),Y=()=>{window.open(P.value,"_blank"),E.value=!1},V=()=>{const t=document.createElement("script");t.async=!0,t.setAttribute("data-cfasync","false"),t.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(t);const a=document.createElement("script");a.type="text/javascript",a.src="//pl26357408.profitableratecpm.com/b2/4b/1a/b24b1aeeaf743580d98186fc713b7de3.js",document.head.appendChild(a)},W=()=>{const t=new Date;J.value=t.toLocaleTimeString()},Z=n(null),_=n(!1),b=n(!0),$=n("Latest News");n(!1),n(""),n("");const d=n(""),h=n(!1),g=n(!1),B=["Latest News","Watch Sports"],U=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},L=()=>{_.value=!_.value},ee=()=>{b.value=!b.value,document.body.classList.toggle("light-mode",!b.value)},M=n([]),{API_URL:te,IMAGE_URL:y}=ue().public,ae=v(()=>"RacingStation Stream"),se=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),oe=v(()=>`${y.startsWith("http")?y:`https://${y}`}/public/img/racingstation-stream.png`);we({title:ae,ogTitle:"RacingStation Stream",description:se,ogDescription:"Watch live streaming of your favorite events.",ogImage:oe,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const z=async()=>{try{const t=await fetch(`${te}/streams_card`);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();M.value=a.map(i=>(M.value.length===0&&(H.value=i.title),{...i,image_path:`${y}${i.image_path}`})),a.length>0&&a[0].redirect_url&&(P.value=a[0].redirect_url)}catch(t){console.error("Error fetching streams:",t)}},S=()=>{localStorage.setItem("streamSearchQuery",d.value),h.value&&(g.value=!1)},j=v(()=>{const t=d.value.trim().toLowerCase();return t?F.value.filter(a=>{var R;const i=a.title.toLowerCase().includes(t),s=((R=a.category)==null?void 0:R.toLowerCase().includes(t))||!1;return i||s}):F.value}),ne=()=>{g.value=!g.value},f=()=>{h.value=window.innerWidth<=640,h.value||(g.value=!0)};O(()=>{const t=localStorage.getItem("streamSearchQuery");t&&(d.value=t),V(),f(),window.addEventListener("resize",f),z()}),O(()=>{V(),f(),window.addEventListener("resize",f),z(),W(),Ce(W,1e3);const t=localStorage.getItem("selectedArticle");t&&(Z.value=JSON.parse(t),$.value="Detailed Article")}),de(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",f)});const F=v(()=>M.value.slice().sort((t,a)=>{const i=new Date(t.created_at),s=new Date(a.created_at);return i-s})),u=n(1),k=v(()=>Math.ceil(j.value.length/N));ve(d,t=>{t.trim()&&(u.value=1)});const re=v(()=>{const t=(u.value-1)*N,a=t+N;return j.value.slice(t,a)}),ce=()=>{u.value<k.value&&u.value++},le=()=>{u.value>1&&u.value--},ie=t=>{X.push(`/watch/${t}`)};return(t,a)=>{const i=_e;return o(),r("div",Ae,[e("header",null,[e("div",Te,[a[2]||(a[2]=e("h1",{class:"logo"},[e("img",{src:me,alt:"RacingStation Logo",class:"logo-image"}),w(" RacingStation ")],-1)),e("div",xe,[e("button",{onClick:ee,class:"icon-button"},[b.value?(o(),C(c(be),{key:0})):(o(),C(c(ye),{key:1}))]),e("button",{onClick:L,class:"icon-button menu-toggle"},[_.value?(o(),C(c(G),{key:1})):(o(),C(c(Se),{key:0}))]),e("nav",De,[e("ul",null,[(o(),r(A,null,T(B,s=>e("li",{key:s},[l(i,{to:U(s),class:"no-active-link"},{default:x(()=>[w(m(s),1)]),_:2},1032,["to"])])),64))])])])])]),E.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:Y})):p("",!0),l(he,{name:"slide"},{default:x(()=>[_.value?(o(),r("nav",Ie,[e("div",Ne,[e("button",{onClick:L,class:"icon-button close-menu"},[l(c(G))]),e("ul",null,[(o(),r(A,null,T(B,s=>e("li",{key:s},[l(i,{to:U(s),class:"no-active-link",onClick:L},{default:x(()=>[w(m(s),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),e("main",null,[a[5]||(a[5]=e("div",{class:"adsterra-container"},[e("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),$.value==="Latest News"?(o(),r("div",Ee,[e("div",Pe,[a[3]||(a[3]=e("h2",{class:"font-sans font-normal"},"Live Sports",-1)),h.value?p("",!0):(o(),r("div",Ve,[e("form",{onSubmit:Q(S,["prevent"]),class:"search-form"},[D(e("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:K(S,["enter"])},null,544),[[q,d.value]]),e("button",We,[l(c(I),{class:"search-icon"})])],32)])),D(e("button",{onClick:ne,class:"mobile-search-icon"},[l(c(I),{class:"search-icon"})],512),[[pe,h.value]])]),h.value?(o(),r("div",{key:0,class:ge(["search-container mobile-search",{"mobile-search-active":g.value}])},[e("form",{onSubmit:Q(S,["prevent"]),class:"search-form"},[D(e("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:K(S,["enter"])},null,544),[[q,d.value]]),e("button",$e,[l(c(I),{class:"search-icon"})])],32)],2)):p("",!0),e("div",Be,[(o(!0),r(A,null,T(re.value,s=>(o(),r("article",{key:s.slug,class:"stream-card",onClick:R=>ie(s.slug)},[e("div",ze,[s.image_path?(o(),r("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,je)):(o(),r("p",Fe,"Image not available"))]),e("div",Oe,[e("span",Qe,m(s.category),1),e("h3",null,m(s.title),1),e("p",null,m(s.excerpt),1),e("div",qe,[e("span",Ke,[a[4]||(a[4]=w(" Watch stream ")),l(c(Le))])])])],8,Ue))),128))]),k.value>1?(o(),r("div",Ge,[e("button",{onClick:le,disabled:u.value===1,class:"pagination-button"},[l(c(Me))],8,Je),e("span",Xe,"Page "+m(u.value)+" of "+m(k.value),1),e("button",{onClick:ce,disabled:u.value===k.value,class:"pagination-button"},[l(c(Re))],8,He)])):p("",!0)])):p("",!0),a[6]||(a[6]=e("div",{class:"adsterra-container"},null,-1))]),l(ke)])}}};export{ot as default};
