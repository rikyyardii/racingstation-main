import{r as n,k as de,l as v,p as j,x as ve,y as me,c as r,a as e,h as m,b as i,d as k,_ as he,e as M,u as c,F as R,f as I,w as D,T as pe,z as E,A as q,B as G,K as J,C as ge,n as fe,t as h,q as _e,o,g as be}from"./Birlwjyq.js";import{S as ke,M as we,a as ye,X,F as Se}from"./Cc2j5KgR.js";import{u as Ce}from"./CQu4EZGb.js";import{s as Le}from"./DIvYn4_r.js";import{S as x,C as Me,a as Te}from"./7p0iYwyN.js";import{A as Ae}from"./BCnDu1ST.js";const Ne={class:"app"},Re={class:"header-content"},Ie={class:"header-controls"},De={class:"desktop-nav"},Ee={key:0,class:"mobile-nav"},xe={class:"mobile-nav-content"},Ve={key:0,class:"articles-section"},We={class:"stream-header"},Pe={key:0,class:"search-container"},$e={type:"submit",class:"search-button"},Be={type:"submit",class:"search-button"},Ue={class:"stream-grid"},ze=["onClick"],Oe={class:"stream-image-container"},Fe=["src","alt"],Ke={key:1},Qe={key:2,class:"live-now-badge"},je={class:"stream-content"},qe={class:"stream-category"},Ge={class:"stream-footer"},Je={class:"read-more"},Xe={key:1,class:"pagination"},He=["disabled"],Ye={class:"pagination-info"},Ze=["disabled"],V=6,lt={__name:"stream",setup(et){const H=n(""),Y=_e(),Z=n(""),g=n(!0),f=n(""),W=async()=>{try{const t=await fetch(`${O}/adslink_card`);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();a&&a.length>0&&a[0].status==="enable"?(f.value=a[0].adslink,g.value=!0):(f.value="",g.value=!1)}catch(t){console.error("Error fetching adslink:",t),f.value="",g.value=!1}},ee=()=>{window.open(f.value,"_blank"),g.value=!1},P=()=>{const t=document.createElement("script");t.async=!0,t.setAttribute("data-cfasync","false"),t.src="//pl26356971.profitableratecpm.com/f7102c30eb715e25f6e3bf755bfbe92c/invoke.js",document.head.appendChild(t)},$=()=>{const t=new Date;H.value=t.toLocaleTimeString()},te=n(null),w=n(!1),y=n(!0),B=n("Latest News");n(!1),n(""),n("");const d=n(""),p=n(!1),_=n(!1),U=["Latest News","Watch Sports","Tutorial"],z=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";case"Tutorial":return"/article/tutorial/tutorial";default:return"/"}},T=()=>{w.value=!w.value},ae=()=>{y.value=!y.value,document.body.classList.toggle("light-mode",!y.value)},A=n([]),{API_URL:O,IMAGE_URL:S}=de().public,se=v(()=>"RacingStation Stream"),oe=v(()=>"Watch live streaming of your favorite sports events with RacingStation Stream"),ne=v(()=>`${S.startsWith("http")?S:`https://${S}`}/public/img/racingstation-stream.png`);Ce({title:se,ogTitle:"RacingStation Stream",description:oe,ogDescription:"Watch live streaming of your favorite events.",ogImage:ne,twitterTitle:"RacingStation Stream",twitterDescription:"Watch live streaming of your favorite sports events with RacingStation Stream",twitterCard:"summary_large_image"});const F=async()=>{try{const t=await fetch(`${O}/streams_card`);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();A.value=a.map(l=>(A.value.length===0&&(Z.value=l.title),{...l,image_path:`${S}${l.image_path}`,status:l.status||"disable"})),a.length>0&&a[0].redirect_url&&(f.value=a[0].redirect_url)}catch(t){console.error("Error fetching streams:",t)}},C=()=>{localStorage.setItem("streamSearchQuery",d.value),p.value&&(_.value=!1)},K=v(()=>{const t=d.value.trim().toLowerCase();return t?Q.value.filter(a=>{var N;const l=a.title.toLowerCase().includes(t),s=((N=a.category)==null?void 0:N.toLowerCase().includes(t))||!1;return l||s}):Q.value}),re=()=>{_.value=!_.value},b=()=>{p.value=window.innerWidth<=640,p.value||(_.value=!0)};j(()=>{const t=localStorage.getItem("streamSearchQuery");t&&(d.value=t),P(),b(),window.addEventListener("resize",b),F(),W()}),j(()=>{P(),b(),window.addEventListener("resize",b),F(),W(),$(),Le($,1e3);const t=localStorage.getItem("selectedArticle");t&&(te.value=JSON.parse(t),B.value="Detailed Article")}),ve(()=>{localStorage.removeItem("streamSearchQuery"),window.removeEventListener("resize",b)});const Q=v(()=>A.value.slice().sort((t,a)=>{const l=new Date(t.created_at),s=new Date(a.created_at);return l-s})),u=n(1),L=v(()=>Math.ceil(K.value.length/V));me(d,t=>{t.trim()&&(u.value=1)});const le=v(()=>{const t=(u.value-1)*V,a=t+V;return K.value.slice(t,a)}),ie=()=>{u.value<L.value&&u.value++},ce=()=>{u.value>1&&u.value--},ue=t=>{Y.push(`/watch/${t}`)};return(t,a)=>{const l=be;return o(),r("div",Ne,[e("header",null,[e("div",Re,[a[2]||(a[2]=e("h1",{class:"logo"},[e("img",{src:he,alt:"RacingStation Logo",class:"logo-image"}),k(" RacingStation ")],-1)),e("div",Ie,[e("button",{onClick:ae,class:"icon-button"},[y.value?(o(),M(c(ke),{key:0})):(o(),M(c(we),{key:1}))]),e("button",{onClick:T,class:"icon-button menu-toggle"},[w.value?(o(),M(c(X),{key:1})):(o(),M(c(ye),{key:0}))]),e("nav",De,[e("ul",null,[(o(),r(R,null,I(U,s=>e("li",{key:s},[i(l,{to:z(s),class:"no-active-link"},{default:D(()=>[k(h(s),1)]),_:2},1032,["to"])])),64))])])])])]),g.value?(o(),r("div",{key:0,class:"clickable-overlay",onClick:ee})):m("",!0),i(pe,{name:"slide"},{default:D(()=>[w.value?(o(),r("nav",Ee,[e("div",xe,[e("button",{onClick:T,class:"icon-button close-menu"},[i(c(X))]),e("ul",null,[(o(),r(R,null,I(U,s=>e("li",{key:s},[i(l,{to:z(s),class:"no-active-link",onClick:T},{default:D(()=>[k(h(s),1)]),_:2},1032,["to"])])),64))])])])):m("",!0)]),_:1}),e("main",null,[a[6]||(a[6]=e("div",{class:"adsterra-container"},[e("div",{id:"container-f7102c30eb715e25f6e3bf755bfbe92c"})],-1)),B.value==="Latest News"?(o(),r("div",Ve,[e("div",We,[a[3]||(a[3]=e("h2",{class:"font-sans font-normal"},"Live Sports",-1)),p.value?m("",!0):(o(),r("div",Pe,[e("form",{onSubmit:q(C,["prevent"]),class:"search-form"},[E(e("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(C,["enter"])},null,544),[[G,d.value]]),e("button",$e,[i(c(x),{class:"search-icon"})])],32)])),E(e("button",{onClick:re,class:"mobile-search-icon"},[i(c(x),{class:"search-icon"})],512),[[ge,p.value]])]),p.value?(o(),r("div",{key:0,class:fe(["search-container mobile-search",{"mobile-search-active":_.value}])},[e("form",{onSubmit:q(C,["prevent"]),class:"search-form"},[E(e("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),placeholder:"Search live streams...",class:"search-input","aria-label":"Search streams",onKeyup:J(C,["enter"])},null,544),[[G,d.value]]),e("button",Be,[i(c(x),{class:"search-icon"})])],32)],2)):m("",!0),e("div",Ue,[(o(!0),r(R,null,I(le.value,s=>(o(),r("article",{key:s.slug,class:"stream-card",onClick:N=>ue(s.slug)},[e("div",Oe,[s.image_path?(o(),r("img",{key:0,src:s.image_path,alt:s.title,class:"stream-image"},null,8,Fe)):(o(),r("p",Ke,"Image not available")),s.status==="enable"?(o(),r("div",Qe,a[4]||(a[4]=[e("span",{class:"live-dot"},null,-1),k(" LIVE NOW ")]))):m("",!0)]),e("div",je,[e("span",qe,h(s.category),1),e("h3",null,h(s.title),1),e("p",null,h(s.excerpt),1),e("div",Ge,[e("span",Je,[a[5]||(a[5]=k(" Watch stream ")),i(c(Ae))])])])],8,ze))),128))]),L.value>1?(o(),r("div",Xe,[e("button",{onClick:ce,disabled:u.value===1,class:"pagination-button"},[i(c(Me))],8,He),e("span",Ye,"Page "+h(u.value)+" of "+h(L.value),1),e("button",{onClick:ie,disabled:u.value===L.value,class:"pagination-button"},[i(c(Te))],8,Ze)])):m("",!0)])):m("",!0),a[7]||(a[7]=e("div",{class:"adsterra-container"},null,-1))]),i(Se)])}}};export{lt as default};
