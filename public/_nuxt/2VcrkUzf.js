import{_ as q}from"./Bu8F17fR.js";import{r as u,u as G,p as J,n as w,c as i,a as e,d as h,q as m,s as _,F as A,v as C,b as r,w as x,T as X,t as n,x as p,A as H,o}from"./CbLDumkK.js";import{_ as P}from"./BI0tDeHe.js";import{S as K,M as Q,a as Y,X as I,F as Z}from"./BFv-caX_.js";import{A as $}from"./CUUP7xKb.js";import{A as ee,C as te,a as se}from"./BeASyhU4.js";const ae={class:"app"},oe={class:"header-content"},le={class:"header-controls"},ne={class:"desktop-nav"},ie={key:0,class:"mobile-nav"},ce={class:"mobile-nav-content"},re={key:0,class:"articles-section"},ue={class:"featured-article-content"},de={class:"featured-article-image"},_e=["src","alt"],ve={key:1},ge={class:"featured-article-text"},he={class:"article-category"},me={class:"excerpt"},pe={class:"article-meta"},fe={class:"author-info"},ke=["alt"],ye={class:"author-name"},be={class:"article-details"},we={class:"article-grid"},Ae=["onClick"],Ce={class:"article-image-container"},xe=["src","alt"],Le={key:1},Ne={class:"article-content"},Se={class:"article-category"},Me={class:"excerpt"},De={class:"article-footer"},Re={class:"article-date"},Pe={class:"read-more"},Ie={class:"pagination"},$e=["disabled"],Fe={class:"pagination-info"},Ve=["disabled"],L=6,je={__name:"index",setup(Be){const F=H(),V=u(null),v=u(!1),g=u(!0),N=u("Latest News");u(!1),u(""),u("");const S=["Latest News","Watch Sports"],M=t=>{switch(t){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},f=()=>{v.value=!v.value},B=()=>{g.value=!g.value,document.body.classList.toggle("light-mode",!g.value)},k=u([]),{API_URL:E,IMAGE_URL:T}=G().public,U=async()=>{try{const t=await fetch(`${E}/articles_card`);if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();k.value=s.map(c=>({...c,image_path:`${T}${c.image_path}`,slug:c.slug})),console.log("Fetched articles:",k.value)}catch(t){console.error("Error fetching articles:",t)}};J(()=>{U();const t=localStorage.getItem("selectedArticle");t&&(V.value=JSON.parse(t),N.value="Detailed Article")});const l=w(()=>k.value.slice().sort((t,s)=>new Date(s.date)-new Date(t.date))),d=u(1),y=w(()=>{const t=l.value.filter((s,c)=>c!==0);return Math.ceil(t.length/L)}),z=w(()=>{var b;const t=(b=l.value[0])==null?void 0:b.id,s=l.value.filter(j=>j.id!==t),c=(d.value-1)*L,a=c+L;return s.slice(c,a)}),O=()=>{d.value<y.value&&d.value++},W=()=>{d.value>1&&d.value--},D=t=>{t&&t.slug?F.push(`/article/${t.slug}`):console.error("Slug tidak ditemukan")},R=t=>{const s={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("en-US",s)};return(t,s)=>{const c=q;return o(),i("div",ae,[e("header",null,[e("div",oe,[s[1]||(s[1]=e("h1",{class:"logo"},[e("img",{src:P,alt:"RacingStation Logo",class:"logo-image"}),h(" RacingStation ")],-1)),e("div",le,[e("button",{onClick:B,class:"icon-button"},[g.value?(o(),m(_(K),{key:0})):(o(),m(_(Q),{key:1}))]),e("button",{onClick:f,class:"icon-button menu-toggle"},[v.value?(o(),m(_(I),{key:1})):(o(),m(_(Y),{key:0}))]),e("nav",ne,[e("ul",null,[(o(),i(A,null,C(S,a=>e("li",{key:a},[r(c,{to:M(a),class:"no-active-link"},{default:x(()=>[h(n(a),1)]),_:2},1032,["to"])])),64))])])])])]),r(X,{name:"slide"},{default:x(()=>[v.value?(o(),i("nav",ie,[e("div",ce,[e("button",{onClick:f,class:"icon-button close-menu"},[r(_(I))]),e("ul",null,[(o(),i(A,null,C(S,a=>e("li",{key:a},[r(c,{to:M(a),class:"no-active-link",onClick:f},{default:x(()=>[h(n(a),1)]),_:2},1032,["to"])])),64))])])])):p("",!0)]),_:1}),e("main",null,[r($),N.value==="Latest News"?(o(),i("div",re,[s[4]||(s[4]=e("h2",null,"News",-1)),l.value.length>0?(o(),i("article",{key:0,class:"featured-article",onClick:s[0]||(s[0]=a=>D(l.value[0]))},[e("div",ue,[e("div",de,[l.value[0].image_path?(o(),i("img",{key:0,src:l.value[0].image_path,alt:l.value[0].title,loading:"lazy"},null,8,_e)):(o(),i("p",ve,"Image not available"))]),e("div",ge,[e("span",he,n(l.value[0].category),1),e("h3",null,n(l.value[0].title),1),e("p",me,n(l.value[0].excerpt),1),e("div",pe,[e("div",fe,[l.value[0].author?(o(),i("img",{key:0,class:"author-image",src:P,alt:l.value[0].author},null,8,ke)):p("",!0),e("div",null,[e("p",ye,n(l.value[0].author),1),e("div",be,[e("time",null,n(R(l.value[0].date)),1),s[2]||(s[2]=e("span",{class:"separator"},"Â·",-1)),e("span",null,n(l.value[0].reading_time)+" min read",1)])])])])])])])):p("",!0),s[5]||(s[5]=e("h2",null,"Latest Article",-1)),e("div",we,[(o(!0),i(A,null,C(z.value,a=>(o(),i("article",{key:a.slug,class:"article-card",onClick:b=>D(a)},[e("div",Ce,[a.image_path?(o(),i("img",{key:0,src:a.image_path,alt:a.title,class:"article-image",loading:"lazy"},null,8,xe)):(o(),i("p",Le,"Image not available"))]),e("div",Ne,[e("span",Se,n(a.category),1),e("h3",null,n(a.title),1),e("p",Me,n(a.excerpt),1),e("div",De,[e("span",Re,n(R(a.date)),1),e("span",Pe,[s[3]||(s[3]=h(" Read more ")),r(_(ee))])])])],8,Ae))),128))]),e("div",Ie,[e("button",{onClick:W,disabled:d.value===1,class:"pagination-button"},[r(_(te))],8,$e),e("span",Fe,"Page "+n(d.value)+" of "+n(y.value),1),e("button",{onClick:O,disabled:d.value===y.value,class:"pagination-button"},[r(_(se))],8,Ve)])])):p("",!0)]),r($),r(Z)])}}};export{je as default};
