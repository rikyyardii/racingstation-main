import{s as z,r as l,l as p,k as W,p as Y,c as A,a as s,b as n,d as i,_ as X,e as h,u as r,w as y,n as H,P as R,z as B,T as q,t as o,G as _,g as J,o as v,h as K}from"./BNQpVJa0.js";import{S as Q,M as Z,a as tt,X as E,F as st}from"./CPRzWOjL.js";import{u as et}from"./rKAU6hgB.js";import{s as U}from"./CgKTdRJ4.js";import{A as w}from"./BQxo8P50.js";import{C as ot}from"./BZjCUP3K.js";const at={class:"app admin"},nt={class:"header-content"},rt={class:"header-controls"},lt={class:"desktop-nav"},it={key:0,class:"mobile-nav"},ct={class:"mobile-nav-content"},ut={class:"home-view section"},dt={class:"dashboard-container"},vt={class:"dashboard-grid"},mt={class:"stats-column"},gt={class:"stat-value"},pt={class:"stat-value"},ht={class:"stat-value"},ft={class:"stat-card"},kt={class:"stat-value"},yt={class:"stat-description"},_t={class:"date-column"},wt={class:"date-time-card"},St={class:"date-value"},bt={class:"time-value"},Ct={class:"day-value"},Mt={__name:"Home",setup($t){const S=l(0),b=l(0),C=l(0),m=l(!1),g=l(!0),M=l(!1),a=l(new Date),c=l({rss:"0 MB",heapTotal:"0 MB",heapUsed:"0 MB",external:"0 MB"}),x=p(()=>{const e=a.value.getDate(),t=a.value.toLocaleString("en-US",{month:"long"}),d=a.value.getFullYear();return`${e} ${t} ${d}`}),j=p(()=>{const e={weekday:"long"};return a.value.toLocaleDateString(void 0,e)}),I=p(()=>{const e=a.value.getHours().toString().padStart(2,"0"),t=a.value.getMinutes().toString().padStart(2,"0"),d=a.value.getSeconds().toString().padStart(2,"0");return`${e}:${t}:${d}`}),N=p(()=>{const e=a.value.getHours();return e>=5&&e<12?"Good morning":e>=12&&e<18?"Good afternoon":"Good evening"}),$=()=>{a.value=new Date},f=()=>{window.innerWidth<=768&&(m.value=!m.value)},G=()=>{g.value=!g.value,document.body.classList.toggle("light-mode",!g.value)},{API_URL:u}=W().public,k=e=>{_(e)},L=async()=>{try{const t=await(await fetch(`${u}/logout`,{method:"POST",credentials:"include"})).json();t.success?_("/rikya"):console.error("Logout failed:",t.message)}catch(e){console.error("An error occurred while logging out:",e)}},P=async()=>{try{const t=await(await fetch(`${u}/check-session`,{method:"GET",credentials:"include"})).json();M.value=t.isLoggedIn,t.isLoggedIn||(alert("Sudah logout, silahkan Login dulu!!"),_("/rikya"))}catch(e){console.error("Error checking session:",e),M.value=!1}},V=async()=>{try{const t=await(await fetch(`${u}/articles_count`)).json();S.value=t.totalArticles}catch(e){console.error("Error fetching article count:",e)}},F=async()=>{try{const t=await(await fetch(`${u}/streams_count`)).json();b.value=t.totalStream}catch(e){console.error("Error fetching stream count:",e)}},O=async()=>{try{const t=await(await fetch(`${u}/adslink_count`)).json();C.value=t.totalAdslink}catch(e){console.error("Error fetching adslink count:",e)}},T=async()=>{try{const t=await(await fetch(`${u}/memory-usage`)).json();c.value=t}catch(e){console.error("Error fetching memory usage:",e)}};return et({title:"RacingStation Dashboard",ogTitle:"RacingStation Dashboard"}),Y(()=>{P(),V(),F(),O(),T(),U(T,5e3),$(),U($,1e3)}),(e,t)=>{const d=J;return v(),A("div",at,[s("header",null,[s("div",nt,[t[4]||(t[4]=s("h1",{class:"logo"},[s("img",{src:X,alt:"RacingStation Logo",class:"logo-image"}),i(" Dashboard ")],-1)),s("div",rt,[s("button",{onClick:G,class:"icon-button"},[g.value?(v(),h(r(Q),{key:0})):(v(),h(r(Z),{key:1}))]),s("button",{onClick:f,class:"icon-button menu-toggle"},[m.value?(v(),h(r(E),{key:1})):(v(),h(r(tt),{key:0}))]),s("nav",lt,[s("ul",null,[s("li",null,[n(d,{to:"/rikya/components",class:H({active:(e._.provides[R]||e.$route).path==="/rikya"})},{default:y(()=>t[3]||(t[3]=[i(" Home ")])),_:1},8,["class"])]),s("li",null,[s("a",{href:"#",onClick:B(L,["prevent"])},"Logout")])])])])])]),n(q,{name:"slide"},{default:y(()=>[m.value?(v(),A("nav",it,[s("div",ct,[s("button",{onClick:f,class:"icon-button close-menu"},[n(r(E))]),s("ul",null,[s("li",null,[n(d,{to:"/rikya/components",onClick:f,class:H({active:(e._.provides[R]||e.$route).path==="/rikya"})},{default:y(()=>t[5]||(t[5]=[i(" Home ")])),_:1},8,["class"])]),s("li",null,[s("a",{href:"#",onClick:B(L,["prevent"])},"Logout")])])])])):K("",!0)]),_:1}),s("div",ut,[s("div",dt,[s("div",vt,[s("div",mt,[s("div",{class:"stat-card clickable",onClick:t[0]||(t[0]=D=>k("/rikya/components/artikel"))},[t[6]||(t[6]=s("h3",null,"Total Articles",-1)),s("div",gt,o(S.value),1),t[7]||(t[7]=s("p",{class:"stat-description"},"Published articles on your platform",-1)),n(r(w),{class:"card-arrow"})]),s("div",{class:"stat-card clickable",onClick:t[1]||(t[1]=D=>k("/rikya/components/livestream"))},[t[8]||(t[8]=s("h3",null,"Total Streams",-1)),s("div",pt,o(b.value),1),t[9]||(t[9]=s("p",{class:"stat-description"},"Currently live streams",-1)),n(r(w),{class:"card-arrow"})]),s("div",{class:"stat-card clickable",onClick:t[2]||(t[2]=D=>k("/rikya/components/ads"))},[t[10]||(t[10]=s("h3",null,"Ads Direct Link",-1)),s("div",ht,o(C.value),1),t[11]||(t[11]=s("p",{class:"stat-description"},"Currently place on website",-1)),n(r(w),{class:"card-arrow"})]),s("div",ft,[t[15]||(t[15]=s("h3",null,"Nuxt Memory Usage",-1)),s("div",kt,o(c.value.rss),1),s("p",yt,[i(" RSS: "+o(c.value.rss)+" ",1),t[12]||(t[12]=s("br",null,null,-1)),i(" Heap Total: "+o(c.value.heapTotal)+" ",1),t[13]||(t[13]=s("br",null,null,-1)),i(" Heap Used: "+o(c.value.heapUsed)+" ",1),t[14]||(t[14]=s("br",null,null,-1)),i(" External: "+o(c.value.external),1)])])]),s("div",_t,[s("div",wt,[s("h3",null,o(N.value)+", Riky.",1),s("div",St,o(x.value),1),s("div",bt,o(I.value),1),s("div",Ct,o(j.value),1),t[16]||(t[16]=s("div",{class:"greeting-message"},"Have a great day",-1)),n(r(ot),{class:"date-icon"})])])])])]),n(st)])}}},Bt=z(Mt,[["__scopeId","data-v-535f2d36"]]);export{Bt as default};
