import{r as a,u as B,f as R,g as V,Y as j,c as i,a as t,d as C,h as v,i as r,F as D,j as T,b as u,w as A,T as W,t as l,k as I,l as P,o as s,n as F}from"./tnlaVvIM.js";import{_ as z}from"./CpXFVbuY.js";import{S as O,M as X,a as Y,X as K,F as q}from"./CkgvPcOa.js";import{A as G}from"./Bqxp4qDm.js";import{s as H}from"./BaYNOOm6.js";import{C as J}from"./DYByziH7.js";const Q={class:"app"},Z={class:"header-content"},ee={class:"header-controls"},te={class:"desktop-nav"},oe=["href"],ne={key:0,class:"mobile-nav"},se={class:"mobile-nav-content"},ae=["href"],le={class:"live-streaming"},re={key:0},ce={class:"video-container"},ie=["src"],ue={class:"live-commentary"},de={class:"update-info"},me={class:"time"},ve={class:"text-justify"},Se={__name:"[id]",setup(fe){const p=a(""),d=a(!1),m=a(!0),y=["Latest News","Watch Sports"],g=P().params.id||null,f=a(""),c=a(""),h=a(""),k=a(""),w=a(null);let _=null;const S=()=>{d.value=!d.value},M=()=>{m.value=!m.value,document.body.classList.toggle("light-mode",!m.value)},b=e=>{switch(e){case"Latest News":return"/";case"Watch Sports":return"/stream";default:return"/"}},L=()=>{const e=new Date,n=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e),o=e.getDate(),E=new Intl.DateTimeFormat("en-US",{month:"short"}).format(e),U=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(e),N=e.toLocaleTimeString("en-US",{hour12:!0});p.value=`${n}, ${o} ${E} ${U}. ${N}`},{API_URL:$}=B().public,x=async e=>{try{const n=await fetch(`${$}/streams/${e}`);if(n.ok){const o=await n.json();f.value=o.title,c.value=o.event,k.value=o.content,o.status==="enable"?h.value=o.link:h.value="/watch/offline_screen"}else console.error("Stream not found")}catch(n){console.error("Error fetching stream:",n)}};return R(()=>c.value?`(${c.value})`:""),V(()=>{g?x(g):console.error("Slug is undefined"),L(),_=H(L,1e3),document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("keydown",e=>{(e.ctrlKey&&e.shiftKey&&e.code==="KeyI"||e.ctrlKey&&e.shiftKey&&e.code==="KeyC"||e.ctrlKey&&e.code==="KeyU"||e.code==="F12")&&(e.preventDefault(),e.stopPropagation())})}),j(()=>{_!==null&&clearInterval(_),document.removeEventListener("contextmenu",e=>e.preventDefault()),document.removeEventListener("keydown",e=>{})}),(e,n)=>(s(),i("div",Q,[t("header",null,[t("div",Z,[n[0]||(n[0]=t("h1",{class:"logo"},[t("img",{src:z,alt:"RacingStation Logo",class:"logo-image"}),C(" RacingStation ")],-1)),t("div",ee,[t("button",{onClick:M,class:"icon-button"},[m.value?(s(),v(r(O),{key:0})):(s(),v(r(X),{key:1}))]),t("button",{onClick:S,class:"icon-button menu-toggle"},[d.value?(s(),v(r(K),{key:1})):(s(),v(r(Y),{key:0}))]),t("nav",te,[t("ul",null,[(s(),i(D,null,T(y,o=>t("li",{key:o},[t("a",{href:b(o),class:F({active:w.value===o})},l(o),11,oe)])),64))])])])])]),u(W,{name:"slide"},{default:A(()=>[d.value?(s(),i("nav",ne,[t("div",se,[t("button",{onClick:S,class:"icon-button close-menu"},[u(r(K))]),t("ul",null,[(s(),i(D,null,T(y,o=>t("li",{key:o},[t("a",{href:b(o),class:F({active:w.value===o})},l(o),11,ae)])),64))])])])):I("",!0)]),_:1}),t("main",null,[u(G),t("div",le,[t("h1",null,[C(l(f.value)+" ",1),c.value?(s(),i("span",re,"("+l(c.value)+")",1)):I("",!0)]),t("div",ce,[t("iframe",{src:h.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; encrypted-media",allowfullscreen:"",allowtransparency:"",style:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},null,8,ie),n[1]||(n[1]=t("div",{class:"iframe-overlay"},null,-1))]),t("div",ue,[t("div",de,[u(r(J)),t("span",me,l(p.value),1)]),t("h1",null,"What is "+l(f.value)+"?",1),t("p",ve,l(k.value),1)])])]),u(q)]))}};export{Se as default};
