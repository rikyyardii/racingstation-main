import{_ as v,r as l,u as g,b as i,d as s,f as y,m as u,v as d,t as w,p as _,s as b,x as p}from"./YPyMNa1S.js";const x={class:"login-container"},S={class:"form-group"},k={class:"form-group"},L={key:0,class:"error"},P={__name:"index",setup(R){const r=l(""),a=l(""),o=l(""),m=b(),{API_URL:c}=g().public,f=async()=>{o.value="";try{const t=await fetch(`${c}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.value,password:a.value}),credentials:"include"}),e=await t.json();t.ok&&e.success?(console.log("Login successful!"),m.push("/rikya/components/Home")):o.value=e.message||"Login failed. Please try again."}catch(t){console.error("Login error:",t),o.value="An error occurred. Please try again later."}};return(t,e)=>(p(),i("div",x,[s("form",{onSubmit:_(f,["prevent"]),class:"login-form"},[e[4]||(e[4]=s("h1",null,"RacingStation",-1)),s("div",S,[e[2]||(e[2]=s("label",{for:"username"},"Username",-1)),u(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),required:"",autocomplete:"off"},null,512),[[d,r.value]])]),s("div",k,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),u(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),required:"",autocomplete:"off"},null,512),[[d,a.value]])]),e[5]||(e[5]=s("button",{type:"submit"},"Log In",-1)),o.value?(p(),i("div",L,w(o.value),1)):y("",!0)],32)]))}},V=v(P,[["__scopeId","data-v-78444936"]]);export{V as default};
